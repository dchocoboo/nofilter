(function() {
  var NoFilter, stream, util,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  stream = require('stream');

  util = require('util');

  module.exports = NoFilter = (function(superClass) {
    var _read_gen, _write_gen, get;

    extend(NoFilter, superClass);

    function NoFilter(input, inputEncoding, options) {
      var inp, inpE;
      if (options == null) {
        options = {};
      }
      inp = void 0;
      inpE = void 0;
      switch (typeof input) {
        case 'object':
          if (Buffer.isBuffer(input)) {
            inp = input;
            if ((inputEncoding != null) && (typeof inputEncoding === 'object')) {
              options = inputEncoding;
            }
          } else {
            options = input;
          }
          break;
        case 'string':
          inp = input;
          if ((inputEncoding != null) && (typeof inputEncoding === 'object')) {
            options = inputEncoding;
          } else {
            inpE = inputEncoding;
          }
      }
      if (options == null) {
        options = {};
      }
      if (inp == null) {
        inp = options.input;
      }
      if (inpE == null) {
        inpE = options.inputEncoding;
      }
      delete options.input;
      delete options.inputEncoding;
      NoFilter.__super__.constructor.call(this, options);
      if (inp != null) {
        this.end(inp, inpE);
      }
    }

    NoFilter.isNoFilter = function(obj) {
      return obj instanceof this;
    };

    NoFilter.compare = function(nf1, nf2) {
      if (!(nf1 instanceof this)) {
        throw new TypeError('Arguments must be NoFilters');
      }
      if (nf1 === nf2) {
        return 0;
      } else {
        return nf1.compare(nf2);
      }
    };

    NoFilter.concat = function(list, length) {
      var bufs;
      if (!Array.isArray(list)) {
        throw new TypeError('list argument must be an Array of NoFilters');
      }
      if ((list.length === 0) || (length === 0)) {
        return new Buffer(0);
      }
      if (length == null) {
        length = list.reduce(function(tot, nf) {
          if (!(nf instanceof NoFilter)) {
            throw new TypeError('list argument must be an Array of NoFilters');
          }
          return tot + nf.length;
        }, 0);
      }
      bufs = list.map(function(nf) {
        if (!(nf instanceof NoFilter)) {
          throw new TypeError('list argument must be an Array of NoFilters');
        }
        if (nf._readableState.objectMode) {
          throw new Error('NoFilter may not be in object mode for concat');
        }
        return nf.slice();
      });
      return Buffer.concat(bufs, length);
    };

    NoFilter.prototype._transform = function(chunk, encoding, callback) {
      if (!this._readableState.objectMode && !Buffer.isBuffer(chunk)) {
        chunk = new Buffer(chunk, encoding);
      }
      this.push(chunk);
      return callback();
    };

    NoFilter.prototype.read = function(size) {
      var buf;
      buf = NoFilter.__super__.read.call(this, size);
      if (buf != null) {
        this.emit('read', buf);
      }
      return buf;
    };

    NoFilter.prototype.compare = function(other) {
      if (!(other instanceof NoFilter)) {
        throw new TypeError('Arguments must be NoFilters');
      }
      if (this._readableState.objectMode || other._readableState.objectMode) {
        throw new Error('Must not be in object mode to compare');
      }
      if (this === other) {
        return 0;
      } else {
        return this.slice().compare(other.slice());
      }
    };

    NoFilter.prototype.equals = function(other) {
      return this.compare(other) === 0;
    };

    NoFilter.prototype.slice = function(start, end) {
      var b;
      if (this._readableState.objectMode) {
        return this._readableState.buffer.slice(start, end);
      } else {
        switch (this._readableState.buffer.length) {
          case 0:
            return new Buffer(0);
          case 1:
            return this._readableState.buffer[0].slice(start, end);
          default:
            b = Buffer.concat(this._readableState.buffer);
            this._readableState.buffer = [b];
            return b.slice(start, end);
        }
      }
    };

    NoFilter.prototype.get = function(index) {
      return this.slice()[index];
    };

    NoFilter.prototype.toJSON = function() {
      var b;
      b = this.slice();
      if (Buffer.isBuffer(b)) {
        return b.toJSON();
      } else {
        return b;
      }
    };

    NoFilter.prototype.toString = function(encoding, start, end) {
      return this.slice().toString(encoding, start, end);
    };

    NoFilter.prototype.inspect = function(depth, options) {
      var hex;
      hex = this._readableState.buffer.map(function(b) {
        if (Buffer.isBuffer(b)) {
          if (options != null ? options.stylize : void 0) {
            return options.stylize(b.toString('hex'), 'string');
          } else {
            return b.toString('hex');
          }
        } else {
          return util.inspect(b, options);
        }
      }).join(', ');
      return this.constructor.name + " [" + hex + "]";
    };

    _read_gen = function(meth, len) {
      return function(val) {
        var b;
        b = this.read(len);
        if (!Buffer.isBuffer(b)) {
          return null;
        }
        return b[meth].call(b, 0, true);
      };
    };

    _write_gen = function(meth, len) {
      return function(val) {
        var b;
        b = new Buffer(len);
        b[meth].call(b, val, 0, true);
        return this.push(b);
      };
    };

    NoFilter.prototype.writeUInt8 = _write_gen('writeUInt8', 1);

    NoFilter.prototype.writeUInt16LE = _write_gen('writeUInt16LE', 2);

    NoFilter.prototype.writeUInt16BE = _write_gen('writeUInt16BE', 2);

    NoFilter.prototype.writeUInt32LE = _write_gen('writeUInt32LE', 4);

    NoFilter.prototype.writeUInt32BE = _write_gen('writeUInt32BE', 4);

    NoFilter.prototype.writeInt8 = _write_gen('writeInt8', 1);

    NoFilter.prototype.writeInt16LE = _write_gen('writeInt16LE', 2);

    NoFilter.prototype.writeInt16BE = _write_gen('writeInt16BE', 2);

    NoFilter.prototype.writeInt32LE = _write_gen('writeInt32LE', 4);

    NoFilter.prototype.writeInt32BE = _write_gen('writeInt32BE', 4);

    NoFilter.prototype.writeFloatLE = _write_gen('writeFloatLE', 4);

    NoFilter.prototype.writeFloatBE = _write_gen('writeFloatBE', 4);

    NoFilter.prototype.writeDoubleLE = _write_gen('writeDoubleLE', 8);

    NoFilter.prototype.writeDoubleBE = _write_gen('writeDoubleBE', 8);

    NoFilter.prototype.readUInt8 = _read_gen('readUInt8', 1);

    NoFilter.prototype.readUInt16LE = _read_gen('readUInt16LE', 2);

    NoFilter.prototype.readUInt16BE = _read_gen('readUInt16BE', 2);

    NoFilter.prototype.readUInt32LE = _read_gen('readUInt32LE', 4);

    NoFilter.prototype.readUInt32BE = _read_gen('readUInt32BE', 4);

    NoFilter.prototype.readInt8 = _read_gen('readInt8', 1);

    NoFilter.prototype.readInt16LE = _read_gen('readInt16LE', 2);

    NoFilter.prototype.readInt16BE = _read_gen('readInt16BE', 2);

    NoFilter.prototype.readInt32LE = _read_gen('readInt32LE', 4);

    NoFilter.prototype.readInt32BE = _read_gen('readInt32BE', 4);

    NoFilter.prototype.readFloatLE = _read_gen('readFloatLE', 4);

    NoFilter.prototype.readFloatBE = _read_gen('readFloatBE', 4);

    NoFilter.prototype.readDoubleLE = _read_gen('readDoubleLE', 8);

    NoFilter.prototype.readDoubleBE = _read_gen('readDoubleBE', 8);

    get = function(props) {
      var getter, name, results;
      results = [];
      for (name in props) {
        getter = props[name];
        results.push(NoFilter.prototype.__defineGetter__(name, getter));
      }
      return results;
    };

    get({
      length: function() {
        return this._readableState.length;
      }
    });

    return NoFilter;

  })(stream.Transform);

}).call(this);

//# sourceMappingURL=data:application/json;base64,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VixFQUEwQixDQUExQjs7dUJBQ2QsV0FBQSxHQUFjLFNBQUEsQ0FBVSxhQUFWLEVBQTBCLENBQTFCOzt1QkFDZCxXQUFBLEdBQWMsU0FBQSxDQUFVLGFBQVYsRUFBMEIsQ0FBMUI7O3VCQUdkLFdBQUEsR0FBYyxTQUFBLENBQVUsYUFBVixFQUEwQixDQUExQjs7dUJBQ2QsV0FBQSxHQUFjLFNBQUEsQ0FBVSxhQUFWLEVBQTBCLENBQTFCOzt1QkFDZCxZQUFBLEdBQWMsU0FBQSxDQUFVLGNBQVYsRUFBMEIsQ0FBMUI7O3VCQUNkLFlBQUEsR0FBYyxTQUFBLENBQVUsY0FBVixFQUEwQixDQUExQjs7SUFHZCxHQUFBLEdBQU0sU0FBQyxLQUFEO0FBQ0osVUFBQTtBQUFBO1dBQUEsYUFBQTs7cUJBQUEsUUFBUSxDQUFBLFNBQUUsQ0FBQSxnQkFBVixDQUEyQixJQUEzQixFQUFpQyxNQUFqQztBQUFBOztJQURJOztJQUlOLEdBQUEsQ0FBSTtNQUFBLE1BQUEsRUFBUSxTQUFBO2VBQUcsSUFBQyxDQUFBLGNBQWMsQ0FBQztNQUFuQixDQUFSO0tBQUo7Ozs7S0FyUnNDLE1BQU0sQ0FBQztBQWxJL0MiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJzdHJlYW0gPSByZXF1aXJlICdzdHJlYW0nXG51dGlsID0gcmVxdWlyZSAndXRpbCdcblxuIyBOb0ZpbHRlciBzdHJlYW0uICBDYW4gYmUgdXNlZCB0byBzaW5rIG9yIHNvdXJjZSBkYXRhIHRvIGFuZCBmcm9tIG90aGVyXG4jIG5vZGUgc3RyZWFtcy4gIEltcGxlbWVudGVkIGFzIHRoZSBcImlkZW50aXR5XCIgVHJhbnNmb3JtIHN0cmVhbSAoaGVuY2UgdGhlXG4jIG5hbWUpLCBidXQgYWxsb3dzIGZvciBpbnNwZWN0aW5nIGRhdGEgdGhhdCBpcyBpbi1mbGlnaHQuXG4jXG4jIEBleGFtcGxlIHNvdXJjZVxuIyAgIHZhciBuID0gbmV3IE5vRmlsdGVyKCdabTl2JywgJ2Jhc2U2NCcpO1xuIyAgIG4ucGlwZShwcm9jZXNzLnN0ZG91dCk7XG4jXG4jIEBleGFtcGxlIHNpbmtcbiMgICB2YXIgbiA9IG5ldyBOb2ZpbHRlcigpO1xuIyAgICMgTk9URTogJ2ZpbmlzaCcgZmlyZXMgd2hlbiB0aGUgaW5wdXQgaXMgZG9uZSB3cml0aW5nXG4jICAgbi5vbignZmluaXNoJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKG4udG9TdHJpbmcoJ2Jhc2U2NCcpKTsgfSk7XG4jICAgcHJvY2Vzcy5zdGRpbi5waXBlKG4pO1xuI1xuIyBAZXZlbnQgcmVhZChCdWZmZXJ8U3RyaW5nfE9iamVjdCkgZmlyZWQgd2hlbmV2ZXIgYW55dGhpbmcgaXMgcmVhZCBmcm9tIHRoZSBzdHJlYW0uXG4jXG4jIEBtZXRob2QgI3dyaXRlVUludDgodmFsdWUpXG4jICAgV3JpdGUgYW4gOC1iaXQgdW5zaWduZWQgaW50ZWdlciB0byB0aGUgc3RyZWFtLiAgQWRkcyAxIGJ5dGUuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlVUludDE2TEUodmFsdWUpXG4jICAgV3JpdGUgYSBsaXR0bGUtZW5kaWFuIDE2LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgMiBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVVSW50MTZCRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGJpZy1lbmRpYW4gMTYtYml0IHVuc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICAyIGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZVVJbnQzMkxFKHZhbHVlKVxuIyAgIFdyaXRlIGEgbGl0dGxlLWVuZGlhbiAzMi1iaXQgdW5zaWduZWQgaW50ZWdlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlVUludDMyQkUodmFsdWUpXG4jICAgV3JpdGUgYSBiaWctZW5kaWFuIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgNCBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVJbnQ4KHZhbHVlKVxuIyAgIFdyaXRlIGFuIDgtYml0IHNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgMSBieXRlLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZUludDE2TEUodmFsdWUpXG4jICAgV3JpdGUgYSBsaXR0bGUtZW5kaWFuIDE2LWJpdCBzaWduZWQgaW50ZWdlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDIgYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlSW50MTZCRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGJpZy1lbmRpYW4gMTYtYml0IHNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgMiBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVJbnQzMkxFKHZhbHVlKVxuIyAgIFdyaXRlIGEgbGl0dGxlLWVuZGlhbiAzMi1iaXQgc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICA0IGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZUludDMyQkUodmFsdWUpXG4jICAgV3JpdGUgYSBiaWctZW5kaWFuIDMyLWJpdCBzaWduZWQgaW50ZWdlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlRmxvYXRMRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGxpdHRsZS1lbmRpYW4gMzItYml0IGZsb2F0IHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgNCBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVGbG9hdEJFKHZhbHVlKVxuIyAgIFdyaXRlIGEgYmlnLWVuZGlhbiAzMi1iaXQgZmxvYXQgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICA0IGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZURvdWJsZUxFKHZhbHVlKVxuIyAgIFdyaXRlIGEgbGl0dGxlLWVuZGlhbiA2NC1iaXQgZG91YmxlIHByZWNpc2lvbiBudW1iZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICA4IGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZURvdWJsZUJFKHZhbHVlKVxuIyAgIFdyaXRlIGEgYmlnLWVuZGlhbiA2NC1iaXQgZG91YmxlIHByZWNpc2lvbiBudW1iZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICA4IGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkVUludDgoKVxuIyAgIFJlYWQgYW4gdW5zaWduZWQgOC1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDEgYnl0ZS5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRVSW50MTZMRSgpXG4jICAgUmVhZCBhIGxpdHRsZS1lbmRpYW4gdW5zaWduZWQgMTYtYml0IGludGVnZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICAyIGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZFVJbnQxNkJFKClcbiMgICBSZWFkIGEgYmlnLWVuZGlhbiB1bnNpZ25lZCAxNi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDIgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkVUludDMyTEUoKVxuIyAgIFJlYWQgYSBsaXR0bGUtZW5kaWFuIHVuc2lnbmVkIDMyLWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgNCBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRVSW50MzJCRSgpXG4jICAgUmVhZCBhIC1iaWdlbmRpYW4gdW5zaWduZWQgMzItYml0IGludGVnZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICA0IGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZEludDgoKVxuIyAgIFJlYWQgYSBzaWduZWQgOC1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDEgYnl0ZS5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRJbnQxNkxFKClcbiMgICBSZWFkIGEgbGl0dGxlLWVuZGlhbiBzaWduZWQgMTYtYml0IGludGVnZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICAyIGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZEludDE2QkUoKVxuIyAgIFJlYWQgYSBiaWctZW5kaWFuIHNpZ25lZCAxNi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDIgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkSW50MzJMRSgpXG4jICAgUmVhZCBhIGxpdHRsZS1lbmRpYW4gc2lnbmVkIDMyLWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgNCBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRJbnQzMkJFKClcbiMgICBSZWFkIGEgYmlnLWVuZGlhbiBzaWduZWQgMzItYml0IGludGVnZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICA0IGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZEZsb2F0TEUoKVxuIyAgIFJlYWQgYSBsaXR0bGUtZW5kaWFuIGZsb2F0aW5nIHBvaW50IG51bWJlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkRmxvYXRCRSgpXG4jICAgUmVhZCBhIGJpZy1lbmRpYW4gZmxvYXRpbmcgcG9pbnQgbnVtYmVyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgNCBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWREb3VibGVMRSgpXG4jICAgUmVhZCBhIGxpdHRsZS1lbmRpYW4gZG91YmxlLXByZWNpc2lvbiBudW1iZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICA4IGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZERvdWJsZUJFKClcbiMgICBSZWFkIGEgYmlnLWVuZGlhbiBkb3VibGUtcHJlY2lzaW9uIG51bWJlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDggYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBOb0ZpbHRlciBleHRlbmRzIHN0cmVhbS5UcmFuc2Zvcm1cbiAgIyBDcmVhdGUgYSBOb0ZpbHRlci4gIEFsbG93IHBhc3NpbmcgaW4gc291cmNlIGRhdGEgKGlucHV0LCBpbnB1dEVuY29kaW5nKVxuICAjIGF0IGNyZWF0aW9uIHRpbWUuICBTb3VyY2UgZGF0YSBjYW4gYWxzbyBiZSBwYXNzZWQgaW4gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAjXG4gICMgQHBhcmFtIGlucHV0IFtTdHJpbmcsIEJ1ZmZlcl0gT3B0aW9uYWwgc291cmNlIGRhdGFcbiAgIyBAcGFyYW0gaW5wdXRFbmNvZGluZyBbU3RyaW5nXSBPcHRpb25hbCBlbmNvZGluZyBuYW1lIGZvciBpbnB1dCwgaWdub3JlZFxuICAjICAgaWYgaW5wdXQgaXMgbm90IGEgU3RyaW5nXG4gICMgQHBhcmFtIG9wdGlvbnMgW09iamVjdF0gT3RoZXIgb3B0aW9uc1xuICAjIEBvcHRpb24gb3B0aW9ucyBbU3RyaW5nLCBCdWZmZXJdIElucHV0IHNvdXJjZSBkYXRhXG4gICMgQG9wdGlvbiBvcHRpb25zIFtTdHJpbmddIGlucHV0RW5jb2RpbmcgRW5jb2RpbmcgbmFtZSBmb3IgaW5wdXQsIGlnbm9yZWRcbiAgIyAgIGlmIGlucHV0IGlzIG5vdCBhIFN0cmluZ1xuICAjIEBvcHRpb24gb3B0aW9ucyBbTnVtYmVyXSBoaWdoV2F0ZXJNYXJrIFRoZSBtYXhpbXVtIG51bWJlciBvZiBieXRlcyB0byBzdG9yZVxuICAjICAgaW4gdGhlIGludGVybmFsIGJ1ZmZlciBiZWZvcmUgY2Vhc2luZyB0byByZWFkIGZyb20gdGhlIHVuZGVybHlpbmdcbiAgIyAgIHJlc291cmNlLiBEZWZhdWx0PTE2a2IsIG9yIDE2IGZvciBvYmplY3RNb2RlIHN0cmVhbXMuXG4gICMgQG9wdGlvbiBvcHRpb25zIFtTdHJpbmddIGVuY29kaW5nICBJZiBzcGVjaWZpZWQsIHRoZW4gYnVmZmVycyB3aWxsIGJlXG4gICMgICBkZWNvZGVkIHRvIHN0cmluZ3MgdXNpbmcgdGhlIHNwZWNpZmllZCBlbmNvZGluZy4gRGVmYXVsdD1udWxsXG4gICMgQG9wdGlvbiBvcHRpb25zIFtCb29sZWFuXSBvYmplY3RNb2RlIFdoZXRoZXIgdGhpcyBzdHJlYW0gc2hvdWxkIGJlaGF2ZSBhcyBhXG4gICMgICBzdHJlYW0gb2Ygb2JqZWN0cy4gTWVhbmluZyB0aGF0IHN0cmVhbS5yZWFkKG4pIHJldHVybnMgYSBzaW5nbGUgdmFsdWVcbiAgIyAgIGluc3RlYWQgb2YgYSBCdWZmZXIgb2Ygc2l6ZSBuLiBEZWZhdWx0PWZhbHNlXG4gICMgQG9wdGlvbiBvcHRpb25zIFtCb29sZWFuXSBkZWNvZGVTdHJpbmdzIFdoZXRoZXIgb3Igbm90IHRvIGRlY29kZSBzdHJpbmdzXG4gICMgICBpbnRvIEJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdGhlbSB0byBfd3JpdGUoKS4gRGVmYXVsdD10cnVlXG4gIGNvbnN0cnVjdG9yOiAoaW5wdXQsIGlucHV0RW5jb2RpbmcsIG9wdGlvbnMgPSB7fSkgLT5cbiAgICBpbnAgPSB1bmRlZmluZWRcbiAgICBpbnBFID0gdW5kZWZpbmVkXG4gICAgc3dpdGNoIHR5cGVvZihpbnB1dClcbiAgICAgIHdoZW4gJ29iamVjdCdcbiAgICAgICAgaWYgQnVmZmVyLmlzQnVmZmVyKGlucHV0KVxuICAgICAgICAgIGlucCA9IGlucHV0XG4gICAgICAgICAgaWYgaW5wdXRFbmNvZGluZz8gYW5kICh0eXBlb2YoaW5wdXRFbmNvZGluZykgPT0gJ29iamVjdCcpXG4gICAgICAgICAgICBvcHRpb25zID0gaW5wdXRFbmNvZGluZ1xuICAgICAgICBlbHNlXG4gICAgICAgICAgb3B0aW9ucyA9IGlucHV0XG4gICAgICB3aGVuICdzdHJpbmcnXG4gICAgICAgIGlucCA9IGlucHV0XG4gICAgICAgIGlmIGlucHV0RW5jb2Rpbmc/IGFuZCAodHlwZW9mKGlucHV0RW5jb2RpbmcpID09ICdvYmplY3QnKVxuICAgICAgICAgIG9wdGlvbnMgPSBpbnB1dEVuY29kaW5nXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBpbnBFID0gaW5wdXRFbmNvZGluZ1xuXG4gICAgaWYgIW9wdGlvbnM/XG4gICAgICBvcHRpb25zID0ge31cbiAgICBpbnAgPz0gb3B0aW9ucy5pbnB1dFxuICAgIGlucEUgPz0gb3B0aW9ucy5pbnB1dEVuY29kaW5nXG4gICAgZGVsZXRlIG9wdGlvbnMuaW5wdXRcbiAgICBkZWxldGUgb3B0aW9ucy5pbnB1dEVuY29kaW5nXG4gICAgc3VwZXIob3B0aW9ucylcblxuICAgIGlmIGlucD9cbiAgICAgIEBlbmQgaW5wLCBpbnBFXG5cbiAgIyBJcyB0aGUgZ2l2ZW4gb2JqZWN0IGEge05vRmlsdGVyfT9cbiAgIyBAcGFyYW0gb2JqIFtPYmplY3RdIFRoZSBvYmplY3QgdG8gdGVzdC5cbiAgIyBAcmV0dXJuIFtCb29sZWFuXVxuICBAaXNOb0ZpbHRlcjogKG9iaikgLT5cbiAgICBvYmogaW5zdGFuY2VvZiBAXG5cbiAgIyBUaGUgc2FtZSBhcyBuZjEuY29tcGFyZShuZjIpLiBVc2VmdWwgZm9yIHNvcnRpbmcgYW4gQXJyYXkgb2YgTm9GaWx0ZXJzOlxuICAjIEBleGFtcGxlIGNvbXBhcmVcbiAgIyAgdmFyIGFyciA9IFtuZXcgTm9GaWx0ZXIoJzEyMzQnKSwgbmV3IE5vRmlsdGVyKCcwMTIzJyldO1xuICAjICBhcnIuc29ydChCdWZmZXIuY29tcGFyZSk7XG4gICMgQHBhcmFtIG5mMSBbTm9GaWx0ZXJdIFRoZSBmaXJzdCBvYmplY3QgdG8gY29tcGFyZVxuICAjIEBwYXJhbSBuZjIgW05vRmlsdGVyXSBUaGUgc2Vjb25kIG9iamVjdCB0byBjb21wYXJlXG4gICMgQHJldHVybiBbTnVtYmVyXSAtMSwgMCwgMSBmb3IgbGVzcywgZXF1YWwsIGdyZWF0ZXJcbiAgQGNvbXBhcmU6IChuZjEsIG5mMikgLT5cbiAgICBpZiAhKG5mMSBpbnN0YW5jZW9mIEApXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yICdBcmd1bWVudHMgbXVzdCBiZSBOb0ZpbHRlcnMnXG4gICAgaWYgbmYxID09IG5mMlxuICAgICAgMFxuICAgIGVsc2VcbiAgICAgIG5mMS5jb21wYXJlIG5mMlxuXG4gICMgUmV0dXJucyBhIGJ1ZmZlciB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIGNvbmNhdGVuYXRpbmcgYWxsIHRoZSBOb0ZpbHRlcnMgaW5cbiAgIyB0aGUgbGlzdCB0b2dldGhlci4gSWYgdGhlIGxpc3QgaGFzIG5vIGl0ZW1zLCBvciBpZiB0aGUgdG90YWxMZW5ndGggaXMgMCxcbiAgIyB0aGVuIGl0IHJldHVybnMgYSB6ZXJvLWxlbmd0aCBidWZmZXIuXG4gICNcbiAgIyBJZiBsZW5ndGggaXMgbm90IHByb3ZpZGVkLCBpdCBpcyByZWFkIGZyb20gdGhlIGJ1ZmZlcnMgaW4gdGhlIGxpc3QuIEhvd2V2ZXIsXG4gICMgdGhpcyBhZGRzIGFuIGFkZGl0aW9uYWwgbG9vcCB0byB0aGUgZnVuY3Rpb24sIHNvIGl0IGlzIGZhc3RlciB0byBwcm92aWRlIHRoZVxuICAjIGxlbmd0aCBleHBsaWNpdGx5LlxuICAjXG4gICMgQHBhcmFtIGxpc3QgW0FycmF5IG9mIE5vRmlsdGVyXSBJbnB1dHMuICBNdXN0IG5vdCBiZSBpbiBvYmplY3QgbW9kZS5cbiAgIyBAcGFyYW0gbGVuZ3RoIFtOdW1iZXJdIE9wdGlvbmFsLlxuICAjIEByZXR1cm4gW0J1ZmZlcl0gVGhlIGNvbmNhdGVuYXRlZCB2YWx1ZXNcbiAgQGNvbmNhdDogKGxpc3QsIGxlbmd0aCkgLT5cbiAgICBpZiAhQXJyYXkuaXNBcnJheSBsaXN0XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yICdsaXN0IGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgTm9GaWx0ZXJzJ1xuICAgIGlmIChsaXN0Lmxlbmd0aCA9PSAwKSBvciAobGVuZ3RoID09IDApXG4gICAgICByZXR1cm4gbmV3IEJ1ZmZlciAwXG4gICAgaWYgIWxlbmd0aD9cbiAgICAgIGxlbmd0aCA9IGxpc3QucmVkdWNlICh0b3QsIG5mKSAtPlxuICAgICAgICBpZiAhKG5mIGluc3RhbmNlb2YgTm9GaWx0ZXIpXG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvciAnbGlzdCBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIE5vRmlsdGVycydcbiAgICAgICAgdG90ICsgbmYubGVuZ3RoXG4gICAgICAsIDBcbiAgICBidWZzID0gbGlzdC5tYXAgKG5mKSAtPlxuICAgICAgaWYgIShuZiBpbnN0YW5jZW9mIE5vRmlsdGVyKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yICdsaXN0IGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgTm9GaWx0ZXJzJ1xuICAgICAgaWYgbmYuX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZVxuICAgICAgICAjIFRPRE86IGlmIGFueSBvZiB0aGVtIGFyZSBpbiBvYmplY3QgbW9kZSwgdGhlbiByZXR1cm4gYW4gYXJyYXk/XG4gICAgICAgIHRocm93IG5ldyBFcnJvciAnTm9GaWx0ZXIgbWF5IG5vdCBiZSBpbiBvYmplY3QgbW9kZSBmb3IgY29uY2F0J1xuICAgICAgbmYuc2xpY2UoKVxuICAgIEJ1ZmZlci5jb25jYXQgYnVmcywgbGVuZ3RoXG5cbiAgIyBAbm9kb2NcbiAgX3RyYW5zZm9ybTogKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIC0+XG4gICAgaWYgIUBfcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlIGFuZCAhQnVmZmVyLmlzQnVmZmVyKGNodW5rKVxuICAgICAgY2h1bmsgPSBuZXcgQnVmZmVyIGNodW5rLCBlbmNvZGluZ1xuICAgIEBwdXNoIGNodW5rXG4gICAgY2FsbGJhY2soKVxuXG4gICMgVGhlIHJlYWQoKSBtZXRob2QgcHVsbHMgc29tZSBkYXRhIG91dCBvZiB0aGUgaW50ZXJuYWwgYnVmZmVyIGFuZCByZXR1cm5zIGl0LlxuICAjIElmIHRoZXJlIGlzIG5vIGRhdGEgYXZhaWxhYmxlLCB0aGVuIGl0IHdpbGwgcmV0dXJuIG51bGwuXG4gICNcbiAgIyBJZiB5b3UgcGFzcyBpbiBhIHNpemUgYXJndW1lbnQsIHRoZW4gaXQgd2lsbCByZXR1cm4gdGhhdCBtYW55IGJ5dGVzLiBJZiBzaXplXG4gICMgYnl0ZXMgYXJlIG5vdCBhdmFpbGFibGUsIHRoZW4gaXQgd2lsbCByZXR1cm4gbnVsbCwgdW5sZXNzIHdlJ3ZlIGVuZGVkLCBpblxuICAjIHdoaWNoIGNhc2UgaXQgd2lsbCByZXR1cm4gdGhlIGRhdGEgcmVtYWluaW5nIGluIHRoZSBidWZmZXIuXG4gICNcbiAgIyBJZiB5b3UgZG8gbm90IHNwZWNpZnkgYSBzaXplIGFyZ3VtZW50LCB0aGVuIGl0IHdpbGwgcmV0dXJuIGFsbCB0aGUgZGF0YSBpblxuICAjIHRoZSBpbnRlcm5hbCBidWZmZXIuXG4gICNcbiAgIyBUaGlzIHZlcnNpb24gYWxzbyBmaXJlcyB0aGUgJ3JlYWQnIGV2ZW50IHVwb24gYSBzdWNjZXNzZnVsIHJlYWQuXG4gICNcbiAgIyBAcGFyYW0gc2l6ZSBbTnVtYmVyXSBPcHRpb25hbC4gTnVtYmVyIG9mIGJ5dGVzIHRvIHJlYWQuXG4gICMgQHJldHVybiBbU3RyaW5nLCBCdWZmZXIsIG51bGxdXG4gIHJlYWQ6IChzaXplKSAtPlxuICAgIGJ1ZiA9IHN1cGVyIHNpemVcbiAgICBpZiBidWY/XG4gICAgICBAZW1pdCAncmVhZCcsIGJ1ZlxuICAgIGJ1ZlxuXG4gICMgUmV0dXJucyBhIG51bWJlciBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBjb21lcyBiZWZvcmUgb3IgYWZ0ZXIgb3IgaXMgdGhlXG4gICMgc2FtZSBhcyB0aGUgb3RoZXIgTm9GaWx0ZXIgaW4gc29ydCBvcmRlci5cbiAgI1xuICAjIEBwYXJhbSBvdGhlciBbTm9GaWx0ZXJdIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZVxuICAjIEByZXR1cm4gW051bWJlcl0gLTEsIDAsIDEgZm9yIGxlc3MsIGVxdWFsLCBncmVhdGVyXG4gIGNvbXBhcmU6IChvdGhlcikgLT5cbiAgICBpZiAhKG90aGVyIGluc3RhbmNlb2YgTm9GaWx0ZXIpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yICdBcmd1bWVudHMgbXVzdCBiZSBOb0ZpbHRlcnMnXG4gICAgaWYgQF9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGUgb3Igb3RoZXIuX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZVxuICAgICAgdGhyb3cgbmV3IEVycm9yICdNdXN0IG5vdCBiZSBpbiBvYmplY3QgbW9kZSB0byBjb21wYXJlJ1xuICAgIGlmIEAgPT0gb3RoZXJcbiAgICAgIDBcbiAgICBlbHNlXG4gICAgICBAc2xpY2UoKS5jb21wYXJlIG90aGVyLnNsaWNlKClcblxuICAjIERvIHRoZXNlIE5vRmlsdGVyJ3MgY29udGFpbiB0aGUgc2FtZSBieXRlcz8gIERvZXNuJ3Qgd29yayBpZiBlaXRoZXIgaXNcbiAgIyBpbiBvYmplY3QgbW9kZS5cbiAgIyBAcGFyYW0gb3RoZXIgW05vRmlsdGVyXVxuICAjIEByZXR1cm4gW0Jvb2xlYW5dIEVxdWFsP1xuICBlcXVhbHM6IChvdGhlcikgLT5cbiAgICBAY29tcGFyZShvdGhlcikgPT0gMFxuXG4gICMgUmVhZCBieXRlcyBvciBvYmplY3RzIHdpdGhvdXQgY29uc3VtaW5nIHRoZW0uICBVc2VmdWwgZm9yIGRpYWdub3N0aWNzLlxuICAjIE5vdGU6IGFzIGEgc2lkZS1lZmZlY3QsIGNvbmNhdGVuYXRlcyBtdWx0aXBsZSB3cml0ZXMgdG9nZXRoZXIgaW50byB3aGF0XG4gICMgbG9va3MgbGlrZSBhIHNpbmdsZSB3cml0ZSwgc28gdGhhdCB0aGlzIGNvbmNhdCBkb2Vzbid0IGhhdmUgdG8gaGFwcGVuXG4gICMgbXVsdGlwbGUgdGltZXMgd2hlbiB5b3UncmUgZnV0emluZyB3aXRoIHRoZSBzYW1lIE5vRmlsdGVyLlxuICAjXG4gICMgQHBhcmFtIHN0YXJ0IFtOdW1iZXJdIE9wdGlvbmFsLCBEZWZhdWx0OiAwXG4gICMgQHBhcmFtIGVuZCBbTnVtYmVyXSwgT3B0aW9uYWwsIERlZmF1bHQ6IE5vRmlsdGVyLmxlbmd0aFxuICAjIEByZXR1cm4gW0J1ZmZlcixBcnJheV0gaWYgaW4gb2JqZWN0IG1vZGUsIGFuIGFycmF5IG9mIG9iamVjdHMuICBPdGhlcndpemUsXG4gICMgICBjb25jYXRlbmF0ZWQgYXJyYXkgb2YgY29udGVudHMuXG4gIHNsaWNlOiAoc3RhcnQsIGVuZCkgLT5cbiAgICBpZiBAX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZVxuICAgICAgQF9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5zbGljZSBzdGFydCwgZW5kXG4gICAgZWxzZVxuICAgICAgc3dpdGNoIEBfcmVhZGFibGVTdGF0ZS5idWZmZXIubGVuZ3RoXG4gICAgICAgIHdoZW4gMCB0aGVuIG5ldyBCdWZmZXIoMClcbiAgICAgICAgd2hlbiAxIHRoZW4gQF9yZWFkYWJsZVN0YXRlLmJ1ZmZlclswXS5zbGljZShzdGFydCwgZW5kKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgYiA9IEJ1ZmZlci5jb25jYXQgQF9yZWFkYWJsZVN0YXRlLmJ1ZmZlclxuICAgICAgICAgIEBfcmVhZGFibGVTdGF0ZS5idWZmZXIgPSBbYl1cbiAgICAgICAgICBiLnNsaWNlIHN0YXJ0LCBlbmRcblxuICAjIEdldCBhIGJ5dGUgYnkgb2Zmc2V0LiAgSSBkaWRuJ3Qgd2FudCB0byBnZXQgaW50byBtZXRhcHJvZ3JhbW1pbmdcbiAgIyB0byBnaXZlIHlvdSB0aGUgYE5vRmlsdGVyWzBdYCBzeW50YXguXG4gICMgQHBhcmFtIGluZGV4IFtOdW1iZXJdIFRoZSBieXRlIHRvIHJldHJpZXZlXG4gICMgQHJldHVybiBbTnVtYmVyXSAwLTI1NVxuICBnZXQ6IChpbmRleCkgLT5cbiAgICBAc2xpY2UoKVtpbmRleF1cblxuICAjIFJldHVybiBhbiBvYmplY3QgY29tcGF0aWJsZSB3aXRoIEJ1ZmZlcidzIHRvSlNPTiBpbXBsZW1lbnRhdGlvbiwgc29cbiAgIyB0aGF0IHJvdW5kLXRyaXBwaW5nIHdpbGwgcHJvZHVjZSBhIEJ1ZmZlci5cbiAgIyBAcmV0dXJuIFtPYmplY3RdXG4gICNcbiAgIyBAZXhhbXBsZSBvdXRwdXQgZm9yICdmb28nXG4gICMgICB7IHR5cGU6ICdCdWZmZXInLCBkYXRhOiBbIDEwMiwgMTExLCAxMTEgXSB9XG4gIHRvSlNPTjogLT5cbiAgICBiID0gQHNsaWNlKClcbiAgICBpZiBCdWZmZXIuaXNCdWZmZXIoYilcbiAgICAgIGIudG9KU09OKClcbiAgICBlbHNlXG4gICAgICBiXG5cbiAgIyBEZWNvZGVzIGFuZCByZXR1cm5zIGEgc3RyaW5nIGZyb20gYnVmZmVyIGRhdGEgZW5jb2RlZCB1c2luZyB0aGUgc3BlY2lmaWVkXG4gICMgY2hhcmFjdGVyIHNldCBlbmNvZGluZy4gSWYgZW5jb2RpbmcgaXMgdW5kZWZpbmVkIG9yIG51bGwsIHRoZW4gZW5jb2RpbmdcbiAgIyBkZWZhdWx0cyB0byAndXRmOCcuIFRoZSBzdGFydCBhbmQgZW5kIHBhcmFtZXRlcnMgZGVmYXVsdCB0byAwIGFuZFxuICAjIE5vRmlsdGVyLmxlbmd0aCB3aGVuIHVuZGVmaW5lZC5cbiAgI1xuICAjIEBwYXJhbSBlbmNvZGluZyBbU3RyaW5nXSBPcHRpb25hbCwgRGVmYXVsdDogJ3V0ZjgnXG4gICMgQHBhcmFtIHN0YXJ0IFtOdW1iZXJdIE9wdGlvbmFsLCBEZWZhdWx0OiAwXG4gICMgQHBhcmFtIGVuZCBbTnVtYmVyXSBPcHRpb25hbCwgRGVmYXVsdDogTm9GaWx0ZXIubGVuZ3RoXG4gICMgQHJldHVybiBbU3RyaW5nXVxuICB0b1N0cmluZzogKGVuY29kaW5nLCBzdGFydCwgZW5kKSAtPlxuICAgIEBzbGljZSgpLnRvU3RyaW5nKGVuY29kaW5nLCBzdGFydCwgZW5kKVxuXG4gICMgQG5vZG9jXG4gIGluc3BlY3Q6IChkZXB0aCwgb3B0aW9ucykgLT5cbiAgICBoZXggPSBAX3JlYWRhYmxlU3RhdGUuYnVmZmVyLm1hcCAoYikgLT5cbiAgICAgIGlmIEJ1ZmZlci5pc0J1ZmZlcihiKVxuICAgICAgICBpZiBvcHRpb25zPy5zdHlsaXplXG4gICAgICAgICAgb3B0aW9ucy5zdHlsaXplIGIudG9TdHJpbmcoJ2hleCcpLCAnc3RyaW5nJ1xuICAgICAgICBlbHNlXG4gICAgICAgICAgYi50b1N0cmluZygnaGV4JylcbiAgICAgIGVsc2VcbiAgICAgICAgdXRpbC5pbnNwZWN0KGIsIG9wdGlvbnMpXG4gICAgLmpvaW4gJywgJ1xuICAgIFwiI3tAY29uc3RydWN0b3IubmFtZX0gWyN7aGV4fV1cIlxuXG4gICMgQG5vZG9jXG4gIF9yZWFkX2dlbiA9IChtZXRoLCBsZW4pIC0+XG4gICAgKHZhbCkgLT5cbiAgICAgIGIgPSBAcmVhZCBsZW5cbiAgICAgIGlmICFCdWZmZXIuaXNCdWZmZXIoYilcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIGJbbWV0aF0uY2FsbCBiLCAwLCB0cnVlXG5cbiAgIyBAbm9kb2NcbiAgX3dyaXRlX2dlbiA9IChtZXRoLCBsZW4pIC0+XG4gICAgKHZhbCkgLT5cbiAgICAgIGIgPSBuZXcgQnVmZmVyIGxlblxuICAgICAgYlttZXRoXS5jYWxsIGIsIHZhbCwgMCwgdHJ1ZVxuICAgICAgQHB1c2ggYlxuXG4gICMgdW5zaWduZWRcbiAgd3JpdGVVSW50ODogICAgX3dyaXRlX2dlbiAnd3JpdGVVSW50OCcsICAgIDFcbiAgd3JpdGVVSW50MTZMRTogX3dyaXRlX2dlbiAnd3JpdGVVSW50MTZMRScsIDJcbiAgd3JpdGVVSW50MTZCRTogX3dyaXRlX2dlbiAnd3JpdGVVSW50MTZCRScsIDJcbiAgd3JpdGVVSW50MzJMRTogX3dyaXRlX2dlbiAnd3JpdGVVSW50MzJMRScsIDRcbiAgd3JpdGVVSW50MzJCRTogX3dyaXRlX2dlbiAnd3JpdGVVSW50MzJCRScsIDRcblxuICAjIHNpZ25lZFxuICB3cml0ZUludDg6ICAgICBfd3JpdGVfZ2VuICd3cml0ZUludDgnLCAgICAgMVxuICB3cml0ZUludDE2TEU6ICBfd3JpdGVfZ2VuICd3cml0ZUludDE2TEUnLCAgMlxuICB3cml0ZUludDE2QkU6ICBfd3JpdGVfZ2VuICd3cml0ZUludDE2QkUnLCAgMlxuICB3cml0ZUludDMyTEU6ICBfd3JpdGVfZ2VuICd3cml0ZUludDMyTEUnLCAgNFxuICB3cml0ZUludDMyQkU6ICBfd3JpdGVfZ2VuICd3cml0ZUludDMyQkUnLCAgNFxuXG4gICMgZmxvYXRcbiAgd3JpdGVGbG9hdExFOiAgX3dyaXRlX2dlbiAnd3JpdGVGbG9hdExFJywgIDRcbiAgd3JpdGVGbG9hdEJFOiAgX3dyaXRlX2dlbiAnd3JpdGVGbG9hdEJFJywgIDRcbiAgd3JpdGVEb3VibGVMRTogX3dyaXRlX2dlbiAnd3JpdGVEb3VibGVMRScsIDhcbiAgd3JpdGVEb3VibGVCRTogX3dyaXRlX2dlbiAnd3JpdGVEb3VibGVCRScsIDhcblxuICAjIHVuc2lnbmVkXG4gIHJlYWRVSW50ODogICAgX3JlYWRfZ2VuICdyZWFkVUludDgnLCAgICAxXG4gIHJlYWRVSW50MTZMRTogX3JlYWRfZ2VuICdyZWFkVUludDE2TEUnLCAyXG4gIHJlYWRVSW50MTZCRTogX3JlYWRfZ2VuICdyZWFkVUludDE2QkUnLCAyXG4gIHJlYWRVSW50MzJMRTogX3JlYWRfZ2VuICdyZWFkVUludDMyTEUnLCA0XG4gIHJlYWRVSW50MzJCRTogX3JlYWRfZ2VuICdyZWFkVUludDMyQkUnLCA0XG5cbiAgIyBzaWduZWRcbiAgcmVhZEludDg6ICAgICBfcmVhZF9nZW4gJ3JlYWRJbnQ4JywgICAgIDFcbiAgcmVhZEludDE2TEU6ICBfcmVhZF9nZW4gJ3JlYWRJbnQxNkxFJywgIDJcbiAgcmVhZEludDE2QkU6ICBfcmVhZF9nZW4gJ3JlYWRJbnQxNkJFJywgIDJcbiAgcmVhZEludDMyTEU6ICBfcmVhZF9nZW4gJ3JlYWRJbnQzMkxFJywgIDRcbiAgcmVhZEludDMyQkU6ICBfcmVhZF9nZW4gJ3JlYWRJbnQzMkJFJywgIDRcblxuICAjIGZsb2F0XG4gIHJlYWRGbG9hdExFOiAgX3JlYWRfZ2VuICdyZWFkRmxvYXRMRScsICA0XG4gIHJlYWRGbG9hdEJFOiAgX3JlYWRfZ2VuICdyZWFkRmxvYXRCRScsICA0XG4gIHJlYWREb3VibGVMRTogX3JlYWRfZ2VuICdyZWFkRG91YmxlTEUnLCA4XG4gIHJlYWREb3VibGVCRTogX3JlYWRfZ2VuICdyZWFkRG91YmxlQkUnLCA4XG5cbiAgIyBAbm9kb2NcbiAgZ2V0ID0gKHByb3BzKSAtPlxuICAgIE5vRmlsdGVyOjpfX2RlZmluZUdldHRlcl9fKG5hbWUsIGdldHRlcikgZm9yIG5hbWUsIGdldHRlciBvZiBwcm9wc1xuXG4gICMgQHByb3BlcnR5IFtOdW1iZXJdIFRoZSBudW1iZXIgb2YgYnl0ZXMgY3VycmVudGx5IGF2YWlsYWJsZSB0byByZWFkXG4gIGdldCBsZW5ndGg6IC0+IEBfcmVhZGFibGVTdGF0ZS5sZW5ndGhcbiJdfQ==
