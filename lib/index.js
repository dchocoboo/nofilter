(function() {
  var NoFilter, stream, util,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  stream = require('stream');

  util = require('util');

  module.exports = NoFilter = (function(superClass) {
    var _read_gen, _write_gen, get;

    extend(NoFilter, superClass);

    function NoFilter(input, inputEncoding, options) {
      var inp, inpE, ref, watchPipe;
      if (options == null) {
        options = {};
      }
      inp = void 0;
      inpE = void 0;
      switch (typeof input) {
        case 'object':
          if (Buffer.isBuffer(input)) {
            inp = input;
            if ((inputEncoding != null) && (typeof inputEncoding === 'object')) {
              options = inputEncoding;
            }
          } else {
            options = input;
          }
          break;
        case 'string':
          inp = input;
          if ((inputEncoding != null) && (typeof inputEncoding === 'object')) {
            options = inputEncoding;
          } else {
            inpE = inputEncoding;
          }
      }
      if (options == null) {
        options = {};
      }
      if (inp == null) {
        inp = options.input;
      }
      if (inpE == null) {
        inpE = options.inputEncoding;
      }
      delete options.input;
      delete options.inputEncoding;
      watchPipe = (ref = options.watchPipe) != null ? ref : true;
      delete options.watchPipe;
      NoFilter.__super__.constructor.call(this, options);
      if (watchPipe) {
        this.on('pipe', (function(_this) {
          return function(readable) {
            var om;
            om = readable._readableState.objectMode;
            if ((_this.length > 0) && (om !== _this._readableState.objectMode)) {
              throw new Error('Do not switch objectMode in the middle of the stream');
            }
            _this._readableState.objectMode = om;
            return _this._writableState.objectMode = om;
          };
        })(this));
      }
      if (inp != null) {
        this.end(inp, inpE);
      }
    }

    NoFilter.isNoFilter = function(obj) {
      return obj instanceof this;
    };

    NoFilter.compare = function(nf1, nf2) {
      if (!(nf1 instanceof this)) {
        throw new TypeError('Arguments must be NoFilters');
      }
      if (nf1 === nf2) {
        return 0;
      } else {
        return nf1.compare(nf2);
      }
    };

    NoFilter.concat = function(list, length) {
      var bufs;
      if (!Array.isArray(list)) {
        throw new TypeError('list argument must be an Array of NoFilters');
      }
      if ((list.length === 0) || (length === 0)) {
        return new Buffer(0);
      }
      if (length == null) {
        length = list.reduce(function(tot, nf) {
          if (!(nf instanceof NoFilter)) {
            throw new TypeError('list argument must be an Array of NoFilters');
          }
          return tot + nf.length;
        }, 0);
      }
      bufs = list.map(function(nf) {
        if (!(nf instanceof NoFilter)) {
          throw new TypeError('list argument must be an Array of NoFilters');
        }
        if (nf._readableState.objectMode) {
          throw new Error('NoFilter may not be in object mode for concat');
        }
        return nf.slice();
      });
      return Buffer.concat(bufs, length);
    };

    NoFilter.prototype._transform = function(chunk, encoding, callback) {
      if (!this._readableState.objectMode && !Buffer.isBuffer(chunk)) {
        chunk = new Buffer(chunk, encoding);
      }
      this.push(chunk);
      return callback();
    };

    NoFilter.prototype._bufArray = function() {
      var b, bufs;
      bufs = this._readableState.buffer;
      if (!Array.isArray(bufs)) {
        b = bufs.head;
        bufs = [];
        while (b != null) {
          bufs.push(b.data);
          b = b.next;
        }
      }
      return bufs;
    };

    NoFilter.prototype.read = function(size) {
      var buf;
      buf = NoFilter.__super__.read.call(this, size);
      if (buf != null) {
        this.emit('read', buf);
      }
      return buf;
    };

    NoFilter.prototype.promise = function(cb) {
      var done;
      done = false;
      return new Promise((function(_this) {
        return function(resolve, reject) {
          _this.on('finish', function() {
            var data;
            data = _this.read();
            if ((cb != null) && !done) {
              done = true;
              cb(null, data);
            }
            return resolve(data);
          });
          return _this.on('error', function(er) {
            if ((cb != null) && !done) {
              done = true;
              cb(er);
            }
            return reject(er);
          });
        };
      })(this));
    };

    NoFilter.prototype.compare = function(other) {
      if (!(other instanceof NoFilter)) {
        throw new TypeError('Arguments must be NoFilters');
      }
      if (this._readableState.objectMode || other._readableState.objectMode) {
        throw new Error('Must not be in object mode to compare');
      }
      if (this === other) {
        return 0;
      } else {
        return this.slice().compare(other.slice());
      }
    };

    NoFilter.prototype.equals = function(other) {
      return this.compare(other) === 0;
    };

    NoFilter.prototype.slice = function(start, end) {
      var b, bufs;
      if (this._readableState.objectMode) {
        return this._bufArray().slice(start, end);
      } else {
        bufs = this._bufArray();
        switch (bufs.length) {
          case 0:
            return new Buffer(0);
          case 1:
            return bufs[0].slice(start, end);
          default:
            b = Buffer.concat(bufs);
            return b.slice(start, end);
        }
      }
    };

    NoFilter.prototype.get = function(index) {
      return this.slice()[index];
    };

    NoFilter.prototype.toJSON = function() {
      var b;
      b = this.slice();
      if (Buffer.isBuffer(b)) {
        return b.toJSON();
      } else {
        return b;
      }
    };

    NoFilter.prototype.toString = function(encoding, start, end) {
      return this.slice().toString(encoding, start, end);
    };

    NoFilter.prototype.inspect = function(depth, options) {
      var bufs, hex;
      bufs = this._bufArray();
      hex = bufs.map(function(b) {
        if (Buffer.isBuffer(b)) {
          if (options != null ? options.stylize : void 0) {
            return options.stylize(b.toString('hex'), 'string');
          } else {
            return b.toString('hex');
          }
        } else {
          return util.inspect(b, options);
        }
      }).join(', ');
      return this.constructor.name + " [" + hex + "]";
    };

    _read_gen = function(meth, len) {
      return function(val) {
        var b;
        b = this.read(len);
        if (!Buffer.isBuffer(b)) {
          return null;
        }
        return b[meth].call(b, 0, true);
      };
    };

    _write_gen = function(meth, len) {
      return function(val) {
        var b;
        b = new Buffer(len);
        b[meth].call(b, val, 0, true);
        return this.push(b);
      };
    };

    NoFilter.prototype.writeUInt8 = _write_gen('writeUInt8', 1);

    NoFilter.prototype.writeUInt16LE = _write_gen('writeUInt16LE', 2);

    NoFilter.prototype.writeUInt16BE = _write_gen('writeUInt16BE', 2);

    NoFilter.prototype.writeUInt32LE = _write_gen('writeUInt32LE', 4);

    NoFilter.prototype.writeUInt32BE = _write_gen('writeUInt32BE', 4);

    NoFilter.prototype.writeInt8 = _write_gen('writeInt8', 1);

    NoFilter.prototype.writeInt16LE = _write_gen('writeInt16LE', 2);

    NoFilter.prototype.writeInt16BE = _write_gen('writeInt16BE', 2);

    NoFilter.prototype.writeInt32LE = _write_gen('writeInt32LE', 4);

    NoFilter.prototype.writeInt32BE = _write_gen('writeInt32BE', 4);

    NoFilter.prototype.writeFloatLE = _write_gen('writeFloatLE', 4);

    NoFilter.prototype.writeFloatBE = _write_gen('writeFloatBE', 4);

    NoFilter.prototype.writeDoubleLE = _write_gen('writeDoubleLE', 8);

    NoFilter.prototype.writeDoubleBE = _write_gen('writeDoubleBE', 8);

    NoFilter.prototype.readUInt8 = _read_gen('readUInt8', 1);

    NoFilter.prototype.readUInt16LE = _read_gen('readUInt16LE', 2);

    NoFilter.prototype.readUInt16BE = _read_gen('readUInt16BE', 2);

    NoFilter.prototype.readUInt32LE = _read_gen('readUInt32LE', 4);

    NoFilter.prototype.readUInt32BE = _read_gen('readUInt32BE', 4);

    NoFilter.prototype.readInt8 = _read_gen('readInt8', 1);

    NoFilter.prototype.readInt16LE = _read_gen('readInt16LE', 2);

    NoFilter.prototype.readInt16BE = _read_gen('readInt16BE', 2);

    NoFilter.prototype.readInt32LE = _read_gen('readInt32LE', 4);

    NoFilter.prototype.readInt32BE = _read_gen('readInt32BE', 4);

    NoFilter.prototype.readFloatLE = _read_gen('readFloatLE', 4);

    NoFilter.prototype.readFloatBE = _read_gen('readFloatBE', 4);

    NoFilter.prototype.readDoubleLE = _read_gen('readDoubleLE', 8);

    NoFilter.prototype.readDoubleBE = _read_gen('readDoubleBE', 8);

    get = function(props) {
      var getter, name, results;
      results = [];
      for (name in props) {
        getter = props[name];
        results.push(NoFilter.prototype.__defineGetter__(name, getter));
      }
      return results;
    };

    get({
      length: function() {
        return this._readableState.length;
      }
    });

    return NoFilter;

  })(stream.Transform);

}).call(this);

//# sourceMappingURL=data:application/json;base64,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QkFDZCxZQUFBLEdBQWMsU0FBQSxDQUFVLGNBQVYsRUFBMEIsQ0FBMUI7O3VCQUNkLFlBQUEsR0FBYyxTQUFBLENBQVUsY0FBVixFQUEwQixDQUExQjs7dUJBR2QsUUFBQSxHQUFjLFNBQUEsQ0FBVSxVQUFWLEVBQTBCLENBQTFCOzt1QkFDZCxXQUFBLEdBQWMsU0FBQSxDQUFVLGFBQVYsRUFBMEIsQ0FBMUI7O3VCQUNkLFdBQUEsR0FBYyxTQUFBLENBQVUsYUFBVixFQUEwQixDQUExQjs7dUJBQ2QsV0FBQSxHQUFjLFNBQUEsQ0FBVSxhQUFWLEVBQTBCLENBQTFCOzt1QkFDZCxXQUFBLEdBQWMsU0FBQSxDQUFVLGFBQVYsRUFBMEIsQ0FBMUI7O3VCQUdkLFdBQUEsR0FBYyxTQUFBLENBQVUsYUFBVixFQUEwQixDQUExQjs7dUJBQ2QsV0FBQSxHQUFjLFNBQUEsQ0FBVSxhQUFWLEVBQTBCLENBQTFCOzt1QkFDZCxZQUFBLEdBQWMsU0FBQSxDQUFVLGNBQVYsRUFBMEIsQ0FBMUI7O3VCQUNkLFlBQUEsR0FBYyxTQUFBLENBQVUsY0FBVixFQUEwQixDQUExQjs7SUFHZCxHQUFBLEdBQU0sU0FBQyxLQUFEO0FBQ0osVUFBQTtBQUFBO1dBQUEsYUFBQTs7cUJBQUEsUUFBUSxDQUFBLFNBQUUsQ0FBQSxnQkFBVixDQUEyQixJQUEzQixFQUFpQyxNQUFqQztBQUFBOztJQURJOztJQUlOLEdBQUEsQ0FBSTtNQUFBLE1BQUEsRUFBUSxTQUFBO2VBQUcsSUFBQyxDQUFBLGNBQWMsQ0FBQztNQUFuQixDQUFSO0tBQUo7Ozs7S0FwVXNDLE1BQU0sQ0FBQztBQW5JL0MiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJzdHJlYW0gPSByZXF1aXJlICdzdHJlYW0nXG51dGlsID0gcmVxdWlyZSAndXRpbCdcblxuIyBOb0ZpbHRlciBzdHJlYW0uICBDYW4gYmUgdXNlZCB0byBzaW5rIG9yIHNvdXJjZSBkYXRhIHRvIGFuZCBmcm9tIG90aGVyXG4jIG5vZGUgc3RyZWFtcy4gIEltcGxlbWVudGVkIGFzIHRoZSBcImlkZW50aXR5XCIgVHJhbnNmb3JtIHN0cmVhbSAoaGVuY2UgdGhlXG4jIG5hbWUpLCBidXQgYWxsb3dzIGZvciBpbnNwZWN0aW5nIGRhdGEgdGhhdCBpcyBpbi1mbGlnaHQuXG4jXG4jIEBleGFtcGxlIHNvdXJjZVxuIyAgIHZhciBuID0gbmV3IE5vRmlsdGVyKCdabTl2JywgJ2Jhc2U2NCcpO1xuIyAgIG4ucGlwZShwcm9jZXNzLnN0ZG91dCk7XG4jXG4jIEBleGFtcGxlIHNpbmtcbiMgICB2YXIgbiA9IG5ldyBOb2ZpbHRlcigpO1xuIyAgICMgTk9URTogJ2ZpbmlzaCcgZmlyZXMgd2hlbiB0aGUgaW5wdXQgaXMgZG9uZSB3cml0aW5nXG4jICAgbi5vbignZmluaXNoJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKG4udG9TdHJpbmcoJ2Jhc2U2NCcpKTsgfSk7XG4jICAgcHJvY2Vzcy5zdGRpbi5waXBlKG4pO1xuI1xuIyBAZXZlbnQgcmVhZChCdWZmZXJ8U3RyaW5nfE9iamVjdCkgZmlyZWQgd2hlbmV2ZXIgYW55dGhpbmcgaXMgcmVhZCBmcm9tIHRoZVxuIyAgIHN0cmVhbS5cbiNcbiMgQG1ldGhvZCAjd3JpdGVVSW50OCh2YWx1ZSlcbiMgICBXcml0ZSBhbiA4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzIDEgYnl0ZS5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVVSW50MTZMRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGxpdHRsZS1lbmRpYW4gMTYtYml0IHVuc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICAyIGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZVVJbnQxNkJFKHZhbHVlKVxuIyAgIFdyaXRlIGEgYmlnLWVuZGlhbiAxNi1iaXQgdW5zaWduZWQgaW50ZWdlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDIgYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlVUludDMyTEUodmFsdWUpXG4jICAgV3JpdGUgYSBsaXR0bGUtZW5kaWFuIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgNCBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVVSW50MzJCRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGJpZy1lbmRpYW4gMzItYml0IHVuc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICA0IGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZUludDgodmFsdWUpXG4jICAgV3JpdGUgYW4gOC1iaXQgc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICAxIGJ5dGUuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlSW50MTZMRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGxpdHRsZS1lbmRpYW4gMTYtYml0IHNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgMiBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVJbnQxNkJFKHZhbHVlKVxuIyAgIFdyaXRlIGEgYmlnLWVuZGlhbiAxNi1iaXQgc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICAyIGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZUludDMyTEUodmFsdWUpXG4jICAgV3JpdGUgYSBsaXR0bGUtZW5kaWFuIDMyLWJpdCBzaWduZWQgaW50ZWdlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlSW50MzJCRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGJpZy1lbmRpYW4gMzItYml0IHNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgNCBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVGbG9hdExFKHZhbHVlKVxuIyAgIFdyaXRlIGEgbGl0dGxlLWVuZGlhbiAzMi1iaXQgZmxvYXQgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICA0IGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZUZsb2F0QkUodmFsdWUpXG4jICAgV3JpdGUgYSBiaWctZW5kaWFuIDMyLWJpdCBmbG9hdCB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlRG91YmxlTEUodmFsdWUpXG4jICAgV3JpdGUgYSBsaXR0bGUtZW5kaWFuIDY0LWJpdCBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDggYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlRG91YmxlQkUodmFsdWUpXG4jICAgV3JpdGUgYSBiaWctZW5kaWFuIDY0LWJpdCBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDggYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRVSW50OCgpXG4jICAgUmVhZCBhbiB1bnNpZ25lZCA4LWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgMSBieXRlLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZFVJbnQxNkxFKClcbiMgICBSZWFkIGEgbGl0dGxlLWVuZGlhbiB1bnNpZ25lZCAxNi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDIgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkVUludDE2QkUoKVxuIyAgIFJlYWQgYSBiaWctZW5kaWFuIHVuc2lnbmVkIDE2LWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgMiBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRVSW50MzJMRSgpXG4jICAgUmVhZCBhIGxpdHRsZS1lbmRpYW4gdW5zaWduZWQgMzItYml0IGludGVnZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICA0IGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZFVJbnQzMkJFKClcbiMgICBSZWFkIGEgLWJpZ2VuZGlhbiB1bnNpZ25lZCAzMi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkSW50OCgpXG4jICAgUmVhZCBhIHNpZ25lZCA4LWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgMSBieXRlLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZEludDE2TEUoKVxuIyAgIFJlYWQgYSBsaXR0bGUtZW5kaWFuIHNpZ25lZCAxNi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDIgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkSW50MTZCRSgpXG4jICAgUmVhZCBhIGJpZy1lbmRpYW4gc2lnbmVkIDE2LWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgMiBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRJbnQzMkxFKClcbiMgICBSZWFkIGEgbGl0dGxlLWVuZGlhbiBzaWduZWQgMzItYml0IGludGVnZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICA0IGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZEludDMyQkUoKVxuIyAgIFJlYWQgYSBiaWctZW5kaWFuIHNpZ25lZCAzMi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkRmxvYXRMRSgpXG4jICAgUmVhZCBhIGxpdHRsZS1lbmRpYW4gZmxvYXRpbmcgcG9pbnQgbnVtYmVyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgNCBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRGbG9hdEJFKClcbiMgICBSZWFkIGEgYmlnLWVuZGlhbiBmbG9hdGluZyBwb2ludCBudW1iZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICA0IGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZERvdWJsZUxFKClcbiMgICBSZWFkIGEgbGl0dGxlLWVuZGlhbiBkb3VibGUtcHJlY2lzaW9uIG51bWJlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDggYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkRG91YmxlQkUoKVxuIyAgIFJlYWQgYSBiaWctZW5kaWFuIGRvdWJsZS1wcmVjaXNpb24gbnVtYmVyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgOCBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIE5vRmlsdGVyIGV4dGVuZHMgc3RyZWFtLlRyYW5zZm9ybVxuICAjIENyZWF0ZSBhIE5vRmlsdGVyLiAgQWxsb3cgcGFzc2luZyBpbiBzb3VyY2UgZGF0YSAoaW5wdXQsIGlucHV0RW5jb2RpbmcpXG4gICMgYXQgY3JlYXRpb24gdGltZS4gIFNvdXJjZSBkYXRhIGNhbiBhbHNvIGJlIHBhc3NlZCBpbiB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICNcbiAgIyBAcGFyYW0gaW5wdXQgW1N0cmluZywgQnVmZmVyXSBPcHRpb25hbCBzb3VyY2UgZGF0YVxuICAjIEBwYXJhbSBpbnB1dEVuY29kaW5nIFtTdHJpbmddIE9wdGlvbmFsIGVuY29kaW5nIG5hbWUgZm9yIGlucHV0LCBpZ25vcmVkXG4gICMgICBpZiBpbnB1dCBpcyBub3QgYSBTdHJpbmdcbiAgIyBAcGFyYW0gb3B0aW9ucyBbT2JqZWN0XSBPdGhlciBvcHRpb25zXG4gICMgQG9wdGlvbiBvcHRpb25zIFtTdHJpbmcsIEJ1ZmZlcl0gSW5wdXQgc291cmNlIGRhdGFcbiAgIyBAb3B0aW9uIG9wdGlvbnMgW1N0cmluZ10gaW5wdXRFbmNvZGluZyBFbmNvZGluZyBuYW1lIGZvciBpbnB1dCwgaWdub3JlZFxuICAjICAgaWYgaW5wdXQgaXMgbm90IGEgU3RyaW5nXG4gICMgQG9wdGlvbiBvcHRpb25zIFtOdW1iZXJdIGhpZ2hXYXRlck1hcmsgVGhlIG1heGltdW0gbnVtYmVyIG9mIGJ5dGVzIHRvIHN0b3JlXG4gICMgICBpbiB0aGUgaW50ZXJuYWwgYnVmZmVyIGJlZm9yZSBjZWFzaW5nIHRvIHJlYWQgZnJvbSB0aGUgdW5kZXJseWluZ1xuICAjICAgcmVzb3VyY2UuIERlZmF1bHQ9MTZrYiwgb3IgMTYgZm9yIG9iamVjdE1vZGUgc3RyZWFtcy5cbiAgIyBAb3B0aW9uIG9wdGlvbnMgW1N0cmluZ10gZW5jb2RpbmcgIElmIHNwZWNpZmllZCwgdGhlbiBidWZmZXJzIHdpbGwgYmVcbiAgIyAgIGRlY29kZWQgdG8gc3RyaW5ncyB1c2luZyB0aGUgc3BlY2lmaWVkIGVuY29kaW5nLiBEZWZhdWx0PW51bGxcbiAgIyBAb3B0aW9uIG9wdGlvbnMgW0Jvb2xlYW5dIG9iamVjdE1vZGUgV2hldGhlciB0aGlzIHN0cmVhbSBzaG91bGQgYmVoYXZlIGFzIGFcbiAgIyAgIHN0cmVhbSBvZiBvYmplY3RzLiBNZWFuaW5nIHRoYXQgc3RyZWFtLnJlYWQobikgcmV0dXJucyBhIHNpbmdsZSB2YWx1ZVxuICAjICAgaW5zdGVhZCBvZiBhIEJ1ZmZlciBvZiBzaXplIG4uIERlZmF1bHQ9ZmFsc2VcbiAgIyBAb3B0aW9uIG9wdGlvbnMgW0Jvb2xlYW5dIGRlY29kZVN0cmluZ3MgV2hldGhlciBvciBub3QgdG8gZGVjb2RlIHN0cmluZ3NcbiAgIyAgIGludG8gQnVmZmVycyBiZWZvcmUgcGFzc2luZyB0aGVtIHRvIF93cml0ZSgpLiBEZWZhdWx0PXRydWVcbiAgIyBAb3B0aW9uIG9wdGlvbnMgW0Jvb2xlYW5dIHdhdGNoUGlwZSBXaGV0aGVyIHRvIHdhdGNoIGZvciAncGlwZScgZXZlbnRzLFxuICAjICAgc2V0dGluZyB0aGlzIHN0cmVhbSdzIG9iamVjdE1vZGUgYmFzZWQgb24gdGhlIG9iamVjdE1vZGUgb2YgdGhlIGlucHV0XG4gICMgICBzdHJlYW0uIERlZmF1bHQ9dHJ1ZVxuICBjb25zdHJ1Y3RvcjogKGlucHV0LCBpbnB1dEVuY29kaW5nLCBvcHRpb25zID0ge30pIC0+XG4gICAgaW5wID0gdW5kZWZpbmVkXG4gICAgaW5wRSA9IHVuZGVmaW5lZFxuICAgIHN3aXRjaCB0eXBlb2YoaW5wdXQpXG4gICAgICB3aGVuICdvYmplY3QnXG4gICAgICAgIGlmIEJ1ZmZlci5pc0J1ZmZlcihpbnB1dClcbiAgICAgICAgICBpbnAgPSBpbnB1dFxuICAgICAgICAgIGlmIGlucHV0RW5jb2Rpbmc/IGFuZCAodHlwZW9mKGlucHV0RW5jb2RpbmcpID09ICdvYmplY3QnKVxuICAgICAgICAgICAgb3B0aW9ucyA9IGlucHV0RW5jb2RpbmdcbiAgICAgICAgZWxzZVxuICAgICAgICAgIG9wdGlvbnMgPSBpbnB1dFxuICAgICAgd2hlbiAnc3RyaW5nJ1xuICAgICAgICBpbnAgPSBpbnB1dFxuICAgICAgICBpZiBpbnB1dEVuY29kaW5nPyBhbmQgKHR5cGVvZihpbnB1dEVuY29kaW5nKSA9PSAnb2JqZWN0JylcbiAgICAgICAgICBvcHRpb25zID0gaW5wdXRFbmNvZGluZ1xuICAgICAgICBlbHNlXG4gICAgICAgICAgaW5wRSA9IGlucHV0RW5jb2RpbmdcblxuICAgIGlmICFvcHRpb25zP1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgaW5wID89IG9wdGlvbnMuaW5wdXRcbiAgICBpbnBFID89IG9wdGlvbnMuaW5wdXRFbmNvZGluZ1xuICAgIGRlbGV0ZSBvcHRpb25zLmlucHV0XG4gICAgZGVsZXRlIG9wdGlvbnMuaW5wdXRFbmNvZGluZ1xuICAgIHdhdGNoUGlwZSA9IG9wdGlvbnMud2F0Y2hQaXBlID8gdHJ1ZVxuICAgIGRlbGV0ZSBvcHRpb25zLndhdGNoUGlwZVxuICAgIHN1cGVyKG9wdGlvbnMpXG5cbiAgICBpZiB3YXRjaFBpcGVcbiAgICAgIEBvbiAncGlwZScsIChyZWFkYWJsZSkgPT5cbiAgICAgICAgb20gPSByZWFkYWJsZS5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlXG4gICAgICAgIGlmIChAbGVuZ3RoID4gMCkgYW5kIChvbSAhPSBAX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IgJ0RvIG5vdCBzd2l0Y2ggb2JqZWN0TW9kZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzdHJlYW0nXG5cbiAgICAgICAgQF9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGUgPSBvbVxuICAgICAgICBAX3dyaXRhYmxlU3RhdGUub2JqZWN0TW9kZSA9IG9tXG5cbiAgICBpZiBpbnA/XG4gICAgICBAZW5kIGlucCwgaW5wRVxuXG4gICMgSXMgdGhlIGdpdmVuIG9iamVjdCBhIHtOb0ZpbHRlcn0/XG4gICMgQHBhcmFtIG9iaiBbT2JqZWN0XSBUaGUgb2JqZWN0IHRvIHRlc3QuXG4gICMgQHJldHVybiBbQm9vbGVhbl1cbiAgQGlzTm9GaWx0ZXI6IChvYmopIC0+XG4gICAgb2JqIGluc3RhbmNlb2YgQFxuXG4gICMgVGhlIHNhbWUgYXMgbmYxLmNvbXBhcmUobmYyKS4gVXNlZnVsIGZvciBzb3J0aW5nIGFuIEFycmF5IG9mIE5vRmlsdGVyczpcbiAgIyBAZXhhbXBsZSBjb21wYXJlXG4gICMgIHZhciBhcnIgPSBbbmV3IE5vRmlsdGVyKCcxMjM0JyksIG5ldyBOb0ZpbHRlcignMDEyMycpXTtcbiAgIyAgYXJyLnNvcnQoQnVmZmVyLmNvbXBhcmUpO1xuICAjIEBwYXJhbSBuZjEgW05vRmlsdGVyXSBUaGUgZmlyc3Qgb2JqZWN0IHRvIGNvbXBhcmVcbiAgIyBAcGFyYW0gbmYyIFtOb0ZpbHRlcl0gVGhlIHNlY29uZCBvYmplY3QgdG8gY29tcGFyZVxuICAjIEByZXR1cm4gW051bWJlcl0gLTEsIDAsIDEgZm9yIGxlc3MsIGVxdWFsLCBncmVhdGVyXG4gIEBjb21wYXJlOiAobmYxLCBuZjIpIC0+XG4gICAgaWYgIShuZjEgaW5zdGFuY2VvZiBAKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvciAnQXJndW1lbnRzIG11c3QgYmUgTm9GaWx0ZXJzJ1xuICAgIGlmIG5mMSA9PSBuZjJcbiAgICAgIDBcbiAgICBlbHNlXG4gICAgICBuZjEuY29tcGFyZSBuZjJcblxuICAjIFJldHVybnMgYSBidWZmZXIgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBjb25jYXRlbmF0aW5nIGFsbCB0aGUgTm9GaWx0ZXJzIGluXG4gICMgdGhlIGxpc3QgdG9nZXRoZXIuIElmIHRoZSBsaXN0IGhhcyBubyBpdGVtcywgb3IgaWYgdGhlIHRvdGFsTGVuZ3RoIGlzIDAsXG4gICMgdGhlbiBpdCByZXR1cm5zIGEgemVyby1sZW5ndGggYnVmZmVyLlxuICAjXG4gICMgSWYgbGVuZ3RoIGlzIG5vdCBwcm92aWRlZCwgaXQgaXMgcmVhZCBmcm9tIHRoZSBidWZmZXJzIGluIHRoZSBsaXN0LiBIb3dldmVyLFxuICAjIHRoaXMgYWRkcyBhbiBhZGRpdGlvbmFsIGxvb3AgdG8gdGhlIGZ1bmN0aW9uLCBzbyBpdCBpcyBmYXN0ZXIgdG8gcHJvdmlkZSB0aGVcbiAgIyBsZW5ndGggZXhwbGljaXRseS5cbiAgI1xuICAjIEBwYXJhbSBsaXN0IFtBcnJheSBvZiBOb0ZpbHRlcl0gSW5wdXRzLiAgTXVzdCBub3QgYmUgaW4gb2JqZWN0IG1vZGUuXG4gICMgQHBhcmFtIGxlbmd0aCBbTnVtYmVyXSBPcHRpb25hbC5cbiAgIyBAcmV0dXJuIFtCdWZmZXJdIFRoZSBjb25jYXRlbmF0ZWQgdmFsdWVzXG4gIEBjb25jYXQ6IChsaXN0LCBsZW5ndGgpIC0+XG4gICAgaWYgIUFycmF5LmlzQXJyYXkgbGlzdFxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvciAnbGlzdCBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIE5vRmlsdGVycydcbiAgICBpZiAobGlzdC5sZW5ndGggPT0gMCkgb3IgKGxlbmd0aCA9PSAwKVxuICAgICAgcmV0dXJuIG5ldyBCdWZmZXIgMFxuICAgIGlmICFsZW5ndGg/XG4gICAgICBsZW5ndGggPSBsaXN0LnJlZHVjZSAodG90LCBuZikgLT5cbiAgICAgICAgaWYgIShuZiBpbnN0YW5jZW9mIE5vRmlsdGVyKVxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IgJ2xpc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBOb0ZpbHRlcnMnXG4gICAgICAgIHRvdCArIG5mLmxlbmd0aFxuICAgICAgLCAwXG4gICAgYnVmcyA9IGxpc3QubWFwIChuZikgLT5cbiAgICAgIGlmICEobmYgaW5zdGFuY2VvZiBOb0ZpbHRlcilcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvciAnbGlzdCBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIE5vRmlsdGVycydcbiAgICAgIGlmIG5mLl9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGVcbiAgICAgICAgIyBUT0RPOiBpZiBhbnkgb2YgdGhlbSBhcmUgaW4gb2JqZWN0IG1vZGUsIHRoZW4gcmV0dXJuIGFuIGFycmF5P1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IgJ05vRmlsdGVyIG1heSBub3QgYmUgaW4gb2JqZWN0IG1vZGUgZm9yIGNvbmNhdCdcbiAgICAgIG5mLnNsaWNlKClcbiAgICBCdWZmZXIuY29uY2F0IGJ1ZnMsIGxlbmd0aFxuXG4gICMgQG5vZG9jXG4gIF90cmFuc2Zvcm06IChjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSAtPlxuICAgIGlmICFAX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZSBhbmQgIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaylcbiAgICAgIGNodW5rID0gbmV3IEJ1ZmZlciBjaHVuaywgZW5jb2RpbmdcbiAgICBAcHVzaCBjaHVua1xuICAgIGNhbGxiYWNrKClcblxuICAjIEBub2RvY1xuICBfYnVmQXJyYXk6ICgpIC0+XG4gICAgYnVmcyA9IEBfcmVhZGFibGVTdGF0ZS5idWZmZXJcbiAgICAjIEhBQ0s6IHJlcGxhY2Ugd2l0aCBzb21ldGhpbmcgZWxzZSBvbmUgZGF5LiAgVGhpcyBpcyB3aGF0IEkgZ2V0IGZvclxuICAgICMgcmVseWluZyBvbiBpbnRlcm5hbHMuXG4gICAgaWYgIUFycmF5LmlzQXJyYXkoYnVmcylcbiAgICAgIGIgPSBidWZzLmhlYWRcbiAgICAgIGJ1ZnMgPSBbXVxuICAgICAgd2hpbGUgYj9cbiAgICAgICAgYnVmcy5wdXNoIGIuZGF0YVxuICAgICAgICBiID0gYi5uZXh0XG4gICAgYnVmc1xuXG4gICMgVGhlIHJlYWQoKSBtZXRob2QgcHVsbHMgc29tZSBkYXRhIG91dCBvZiB0aGUgaW50ZXJuYWwgYnVmZmVyIGFuZCByZXR1cm5zIGl0LlxuICAjIElmIHRoZXJlIGlzIG5vIGRhdGEgYXZhaWxhYmxlLCB0aGVuIGl0IHdpbGwgcmV0dXJuIG51bGwuXG4gICNcbiAgIyBJZiB5b3UgcGFzcyBpbiBhIHNpemUgYXJndW1lbnQsIHRoZW4gaXQgd2lsbCByZXR1cm4gdGhhdCBtYW55IGJ5dGVzLiBJZiBzaXplXG4gICMgYnl0ZXMgYXJlIG5vdCBhdmFpbGFibGUsIHRoZW4gaXQgd2lsbCByZXR1cm4gbnVsbCwgdW5sZXNzIHdlJ3ZlIGVuZGVkLCBpblxuICAjIHdoaWNoIGNhc2UgaXQgd2lsbCByZXR1cm4gdGhlIGRhdGEgcmVtYWluaW5nIGluIHRoZSBidWZmZXIuXG4gICNcbiAgIyBJZiB5b3UgZG8gbm90IHNwZWNpZnkgYSBzaXplIGFyZ3VtZW50LCB0aGVuIGl0IHdpbGwgcmV0dXJuIGFsbCB0aGUgZGF0YSBpblxuICAjIHRoZSBpbnRlcm5hbCBidWZmZXIuXG4gICNcbiAgIyBUaGlzIHZlcnNpb24gYWxzbyBmaXJlcyB0aGUgJ3JlYWQnIGV2ZW50IHVwb24gYSBzdWNjZXNzZnVsIHJlYWQuXG4gICNcbiAgIyBAcGFyYW0gc2l6ZSBbTnVtYmVyXSBPcHRpb25hbC4gTnVtYmVyIG9mIGJ5dGVzIHRvIHJlYWQuXG4gICMgQHJldHVybiBbU3RyaW5nLCBCdWZmZXIsIG51bGxdXG4gIHJlYWQ6IChzaXplKSAtPlxuICAgIGJ1ZiA9IHN1cGVyIHNpemVcbiAgICBpZiBidWY/XG4gICAgICBAZW1pdCAncmVhZCcsIGJ1ZlxuICAgIGJ1ZlxuXG4gICMgUmV0dXJuIGEgcHJvbWlzZSBmdWxmaWxsZWQgd2l0aCB0aGUgZnVsbCBjb250ZW50cywgYWZ0ZXIgdGhlICdmaW5pc2gnXG4gICMgZXZlbnQgZmlyZXMuICBFcnJvcnMgb24gdGhlIHN0cmVhbSBjYXVzZSB0aGUgcHJvbWlzZSB0byBiZSByZWplY3RlZC5cbiAgcHJvbWlzZTogKGNiKSAtPlxuICAgIGRvbmUgPSBmYWxzZVxuICAgIG5ldyBQcm9taXNlIChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICBAb24gJ2ZpbmlzaCcsID0+XG4gICAgICAgIGRhdGEgPSBAcmVhZCgpXG4gICAgICAgIGlmIGNiPyBhbmQgIWRvbmVcbiAgICAgICAgICBkb25lID0gdHJ1ZVxuICAgICAgICAgIGNiIG51bGwsIGRhdGFcbiAgICAgICAgcmVzb2x2ZSBkYXRhXG4gICAgICBAb24gJ2Vycm9yJywgKGVyKSAtPlxuICAgICAgICBpZiBjYj8gYW5kICFkb25lXG4gICAgICAgICAgZG9uZSA9IHRydWVcbiAgICAgICAgICBjYiBlclxuICAgICAgICByZWplY3QgZXJcblxuICAjIFJldHVybnMgYSBudW1iZXIgaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgY29tZXMgYmVmb3JlIG9yIGFmdGVyIG9yIGlzIHRoZVxuICAjIHNhbWUgYXMgdGhlIG90aGVyIE5vRmlsdGVyIGluIHNvcnQgb3JkZXIuXG4gICNcbiAgIyBAcGFyYW0gb3RoZXIgW05vRmlsdGVyXSBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmVcbiAgIyBAcmV0dXJuIFtOdW1iZXJdIC0xLCAwLCAxIGZvciBsZXNzLCBlcXVhbCwgZ3JlYXRlclxuICBjb21wYXJlOiAob3RoZXIpIC0+XG4gICAgaWYgIShvdGhlciBpbnN0YW5jZW9mIE5vRmlsdGVyKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvciAnQXJndW1lbnRzIG11c3QgYmUgTm9GaWx0ZXJzJ1xuICAgIGlmIEBfcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlIG9yIG90aGVyLl9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGVcbiAgICAgIHRocm93IG5ldyBFcnJvciAnTXVzdCBub3QgYmUgaW4gb2JqZWN0IG1vZGUgdG8gY29tcGFyZSdcbiAgICBpZiBAID09IG90aGVyXG4gICAgICAwXG4gICAgZWxzZVxuICAgICAgQHNsaWNlKCkuY29tcGFyZSBvdGhlci5zbGljZSgpXG5cbiAgIyBEbyB0aGVzZSBOb0ZpbHRlcidzIGNvbnRhaW4gdGhlIHNhbWUgYnl0ZXM/ICBEb2Vzbid0IHdvcmsgaWYgZWl0aGVyIGlzXG4gICMgaW4gb2JqZWN0IG1vZGUuXG4gICMgQHBhcmFtIG90aGVyIFtOb0ZpbHRlcl1cbiAgIyBAcmV0dXJuIFtCb29sZWFuXSBFcXVhbD9cbiAgZXF1YWxzOiAob3RoZXIpIC0+XG4gICAgQGNvbXBhcmUob3RoZXIpID09IDBcblxuICAjIFJlYWQgYnl0ZXMgb3Igb2JqZWN0cyB3aXRob3V0IGNvbnN1bWluZyB0aGVtLiAgVXNlZnVsIGZvciBkaWFnbm9zdGljcy5cbiAgIyBOb3RlOiBhcyBhIHNpZGUtZWZmZWN0LCBjb25jYXRlbmF0ZXMgbXVsdGlwbGUgd3JpdGVzIHRvZ2V0aGVyIGludG8gd2hhdFxuICAjIGxvb2tzIGxpa2UgYSBzaW5nbGUgd3JpdGUsIHNvIHRoYXQgdGhpcyBjb25jYXQgZG9lc24ndCBoYXZlIHRvIGhhcHBlblxuICAjIG11bHRpcGxlIHRpbWVzIHdoZW4geW91J3JlIGZ1dHppbmcgd2l0aCB0aGUgc2FtZSBOb0ZpbHRlci5cbiAgI1xuICAjIEBwYXJhbSBzdGFydCBbTnVtYmVyXSBPcHRpb25hbCwgRGVmYXVsdDogMFxuICAjIEBwYXJhbSBlbmQgW051bWJlcl0sIE9wdGlvbmFsLCBEZWZhdWx0OiBOb0ZpbHRlci5sZW5ndGhcbiAgIyBAcmV0dXJuIFtCdWZmZXIsQXJyYXldIGlmIGluIG9iamVjdCBtb2RlLCBhbiBhcnJheSBvZiBvYmplY3RzLiAgT3RoZXJ3aXplLFxuICAjICAgY29uY2F0ZW5hdGVkIGFycmF5IG9mIGNvbnRlbnRzLlxuICBzbGljZTogKHN0YXJ0LCBlbmQpIC0+XG4gICAgaWYgQF9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGVcbiAgICAgIEBfYnVmQXJyYXkoKS5zbGljZSBzdGFydCwgZW5kXG4gICAgZWxzZVxuICAgICAgYnVmcyA9IEBfYnVmQXJyYXkoKVxuICAgICAgc3dpdGNoIGJ1ZnMubGVuZ3RoXG4gICAgICAgIHdoZW4gMCB0aGVuIG5ldyBCdWZmZXIoMClcbiAgICAgICAgd2hlbiAxIHRoZW4gYnVmc1swXS5zbGljZShzdGFydCwgZW5kKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgYiA9IEJ1ZmZlci5jb25jYXQgYnVmc1xuICAgICAgICAgICMgVE9ETzogc3RvcmUgdGhlIGNvbmNhdGVudGVkIGJ1ZnMgYmFja1xuICAgICAgICAgICMgQF9yZWFkYWJsZVN0YXRlLmJ1ZmZlciA9IFtiXVxuICAgICAgICAgIGIuc2xpY2Ugc3RhcnQsIGVuZFxuXG4gICMgR2V0IGEgYnl0ZSBieSBvZmZzZXQuICBJIGRpZG4ndCB3YW50IHRvIGdldCBpbnRvIG1ldGFwcm9ncmFtbWluZ1xuICAjIHRvIGdpdmUgeW91IHRoZSBgTm9GaWx0ZXJbMF1gIHN5bnRheC5cbiAgIyBAcGFyYW0gaW5kZXggW051bWJlcl0gVGhlIGJ5dGUgdG8gcmV0cmlldmVcbiAgIyBAcmV0dXJuIFtOdW1iZXJdIDAtMjU1XG4gIGdldDogKGluZGV4KSAtPlxuICAgIEBzbGljZSgpW2luZGV4XVxuXG4gICMgUmV0dXJuIGFuIG9iamVjdCBjb21wYXRpYmxlIHdpdGggQnVmZmVyJ3MgdG9KU09OIGltcGxlbWVudGF0aW9uLCBzb1xuICAjIHRoYXQgcm91bmQtdHJpcHBpbmcgd2lsbCBwcm9kdWNlIGEgQnVmZmVyLlxuICAjIEByZXR1cm4gW09iamVjdF1cbiAgI1xuICAjIEBleGFtcGxlIG91dHB1dCBmb3IgJ2ZvbydcbiAgIyAgIHsgdHlwZTogJ0J1ZmZlcicsIGRhdGE6IFsgMTAyLCAxMTEsIDExMSBdIH1cbiAgdG9KU09OOiAtPlxuICAgIGIgPSBAc2xpY2UoKVxuICAgIGlmIEJ1ZmZlci5pc0J1ZmZlcihiKVxuICAgICAgYi50b0pTT04oKVxuICAgIGVsc2VcbiAgICAgIGJcblxuICAjIERlY29kZXMgYW5kIHJldHVybnMgYSBzdHJpbmcgZnJvbSBidWZmZXIgZGF0YSBlbmNvZGVkIHVzaW5nIHRoZSBzcGVjaWZpZWRcbiAgIyBjaGFyYWN0ZXIgc2V0IGVuY29kaW5nLiBJZiBlbmNvZGluZyBpcyB1bmRlZmluZWQgb3IgbnVsbCwgdGhlbiBlbmNvZGluZ1xuICAjIGRlZmF1bHRzIHRvICd1dGY4Jy4gVGhlIHN0YXJ0IGFuZCBlbmQgcGFyYW1ldGVycyBkZWZhdWx0IHRvIDAgYW5kXG4gICMgTm9GaWx0ZXIubGVuZ3RoIHdoZW4gdW5kZWZpbmVkLlxuICAjXG4gICMgQHBhcmFtIGVuY29kaW5nIFtTdHJpbmddIE9wdGlvbmFsLCBEZWZhdWx0OiAndXRmOCdcbiAgIyBAcGFyYW0gc3RhcnQgW051bWJlcl0gT3B0aW9uYWwsIERlZmF1bHQ6IDBcbiAgIyBAcGFyYW0gZW5kIFtOdW1iZXJdIE9wdGlvbmFsLCBEZWZhdWx0OiBOb0ZpbHRlci5sZW5ndGhcbiAgIyBAcmV0dXJuIFtTdHJpbmddXG4gIHRvU3RyaW5nOiAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIC0+XG4gICAgQHNsaWNlKCkudG9TdHJpbmcoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpXG5cbiAgIyBAbm9kb2NcbiAgaW5zcGVjdDogKGRlcHRoLCBvcHRpb25zKSAtPlxuICAgIGJ1ZnMgPSBAX2J1ZkFycmF5KClcbiAgICBoZXggPSBidWZzLm1hcCAoYikgLT5cbiAgICAgIGlmIEJ1ZmZlci5pc0J1ZmZlcihiKVxuICAgICAgICBpZiBvcHRpb25zPy5zdHlsaXplXG4gICAgICAgICAgb3B0aW9ucy5zdHlsaXplIGIudG9TdHJpbmcoJ2hleCcpLCAnc3RyaW5nJ1xuICAgICAgICBlbHNlXG4gICAgICAgICAgYi50b1N0cmluZygnaGV4JylcbiAgICAgIGVsc2VcbiAgICAgICAgdXRpbC5pbnNwZWN0KGIsIG9wdGlvbnMpXG4gICAgLmpvaW4gJywgJ1xuICAgIFwiI3tAY29uc3RydWN0b3IubmFtZX0gWyN7aGV4fV1cIlxuXG4gICMgQG5vZG9jXG4gIF9yZWFkX2dlbiA9IChtZXRoLCBsZW4pIC0+XG4gICAgKHZhbCkgLT5cbiAgICAgIGIgPSBAcmVhZCBsZW5cbiAgICAgIGlmICFCdWZmZXIuaXNCdWZmZXIoYilcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIGJbbWV0aF0uY2FsbCBiLCAwLCB0cnVlXG5cbiAgIyBAbm9kb2NcbiAgX3dyaXRlX2dlbiA9IChtZXRoLCBsZW4pIC0+XG4gICAgKHZhbCkgLT5cbiAgICAgIGIgPSBuZXcgQnVmZmVyIGxlblxuICAgICAgYlttZXRoXS5jYWxsIGIsIHZhbCwgMCwgdHJ1ZVxuICAgICAgQHB1c2ggYlxuXG4gICMgdW5zaWduZWRcbiAgd3JpdGVVSW50ODogICAgX3dyaXRlX2dlbiAnd3JpdGVVSW50OCcsICAgIDFcbiAgd3JpdGVVSW50MTZMRTogX3dyaXRlX2dlbiAnd3JpdGVVSW50MTZMRScsIDJcbiAgd3JpdGVVSW50MTZCRTogX3dyaXRlX2dlbiAnd3JpdGVVSW50MTZCRScsIDJcbiAgd3JpdGVVSW50MzJMRTogX3dyaXRlX2dlbiAnd3JpdGVVSW50MzJMRScsIDRcbiAgd3JpdGVVSW50MzJCRTogX3dyaXRlX2dlbiAnd3JpdGVVSW50MzJCRScsIDRcblxuICAjIHNpZ25lZFxuICB3cml0ZUludDg6ICAgICBfd3JpdGVfZ2VuICd3cml0ZUludDgnLCAgICAgMVxuICB3cml0ZUludDE2TEU6ICBfd3JpdGVfZ2VuICd3cml0ZUludDE2TEUnLCAgMlxuICB3cml0ZUludDE2QkU6ICBfd3JpdGVfZ2VuICd3cml0ZUludDE2QkUnLCAgMlxuICB3cml0ZUludDMyTEU6ICBfd3JpdGVfZ2VuICd3cml0ZUludDMyTEUnLCAgNFxuICB3cml0ZUludDMyQkU6ICBfd3JpdGVfZ2VuICd3cml0ZUludDMyQkUnLCAgNFxuXG4gICMgZmxvYXRcbiAgd3JpdGVGbG9hdExFOiAgX3dyaXRlX2dlbiAnd3JpdGVGbG9hdExFJywgIDRcbiAgd3JpdGVGbG9hdEJFOiAgX3dyaXRlX2dlbiAnd3JpdGVGbG9hdEJFJywgIDRcbiAgd3JpdGVEb3VibGVMRTogX3dyaXRlX2dlbiAnd3JpdGVEb3VibGVMRScsIDhcbiAgd3JpdGVEb3VibGVCRTogX3dyaXRlX2dlbiAnd3JpdGVEb3VibGVCRScsIDhcblxuICAjIHVuc2lnbmVkXG4gIHJlYWRVSW50ODogICAgX3JlYWRfZ2VuICdyZWFkVUludDgnLCAgICAxXG4gIHJlYWRVSW50MTZMRTogX3JlYWRfZ2VuICdyZWFkVUludDE2TEUnLCAyXG4gIHJlYWRVSW50MTZCRTogX3JlYWRfZ2VuICdyZWFkVUludDE2QkUnLCAyXG4gIHJlYWRVSW50MzJMRTogX3JlYWRfZ2VuICdyZWFkVUludDMyTEUnLCA0XG4gIHJlYWRVSW50MzJCRTogX3JlYWRfZ2VuICdyZWFkVUludDMyQkUnLCA0XG5cbiAgIyBzaWduZWRcbiAgcmVhZEludDg6ICAgICBfcmVhZF9nZW4gJ3JlYWRJbnQ4JywgICAgIDFcbiAgcmVhZEludDE2TEU6ICBfcmVhZF9nZW4gJ3JlYWRJbnQxNkxFJywgIDJcbiAgcmVhZEludDE2QkU6ICBfcmVhZF9nZW4gJ3JlYWRJbnQxNkJFJywgIDJcbiAgcmVhZEludDMyTEU6ICBfcmVhZF9nZW4gJ3JlYWRJbnQzMkxFJywgIDRcbiAgcmVhZEludDMyQkU6ICBfcmVhZF9nZW4gJ3JlYWRJbnQzMkJFJywgIDRcblxuICAjIGZsb2F0XG4gIHJlYWRGbG9hdExFOiAgX3JlYWRfZ2VuICdyZWFkRmxvYXRMRScsICA0XG4gIHJlYWRGbG9hdEJFOiAgX3JlYWRfZ2VuICdyZWFkRmxvYXRCRScsICA0XG4gIHJlYWREb3VibGVMRTogX3JlYWRfZ2VuICdyZWFkRG91YmxlTEUnLCA4XG4gIHJlYWREb3VibGVCRTogX3JlYWRfZ2VuICdyZWFkRG91YmxlQkUnLCA4XG5cbiAgIyBAbm9kb2NcbiAgZ2V0ID0gKHByb3BzKSAtPlxuICAgIE5vRmlsdGVyOjpfX2RlZmluZUdldHRlcl9fKG5hbWUsIGdldHRlcikgZm9yIG5hbWUsIGdldHRlciBvZiBwcm9wc1xuXG4gICMgQHByb3BlcnR5IFtOdW1iZXJdIFRoZSBudW1iZXIgb2YgYnl0ZXMgY3VycmVudGx5IGF2YWlsYWJsZSB0byByZWFkXG4gIGdldCBsZW5ndGg6IC0+IEBfcmVhZGFibGVTdGF0ZS5sZW5ndGhcbiJdfQ==
