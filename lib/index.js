(function() {
  var NoFilter, stream, util,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  stream = require('stream');

  util = require('util');

  module.exports = NoFilter = (function(superClass) {
    var _read_gen, _write_gen, get;

    extend(NoFilter, superClass);

    function NoFilter(input, inputEncoding, options) {
      var inp, inpE;
      if (options == null) {
        options = {};
      }
      inp = void 0;
      inpE = void 0;
      switch (typeof input) {
        case 'object':
          if (Buffer.isBuffer(input)) {
            inp = input;
            if ((inputEncoding != null) && (typeof inputEncoding === 'object')) {
              options = inputEncoding;
            }
          } else {
            options = input;
          }
          break;
        case 'string':
          inp = input;
          if ((inputEncoding != null) && (typeof inputEncoding === 'object')) {
            options = inputEncoding;
          } else {
            inpE = inputEncoding;
          }
      }
      if (options == null) {
        options = {};
      }
      if (inp == null) {
        inp = options.input;
      }
      if (inpE == null) {
        inpE = options.inputEncoding;
      }
      delete options.input;
      delete options.inputEncoding;
      NoFilter.__super__.constructor.call(this, options);
      if (inp != null) {
        this.end(inp, inpE);
      }
    }

    NoFilter.isNoFilter = function(obj) {
      return obj instanceof this;
    };

    NoFilter.compare = function(nf1, nf2) {
      if (!(nf1 instanceof this)) {
        throw new TypeError('Arguments must be NoFilters');
      }
      if (nf1 === nf2) {
        return 0;
      } else {
        return nf1.compare(nf2);
      }
    };

    NoFilter.concat = function(list, length) {
      var bufs;
      if (!Array.isArray(list)) {
        throw new TypeError('list argument must be an Array of NoFilters');
      }
      if ((list.length === 0) || (length === 0)) {
        return new Buffer(0);
      }
      if (length == null) {
        length = list.reduce(function(tot, nf) {
          if (!(nf instanceof NoFilter)) {
            throw new TypeError('list argument must be an Array of NoFilters');
          }
          return tot + nf.length;
        }, 0);
      }
      bufs = list.map(function(nf) {
        if (!(nf instanceof NoFilter)) {
          throw new TypeError('list argument must be an Array of NoFilters');
        }
        if (nf._readableState.objectMode) {
          throw new Error('NoFilter may not be in object mode for concat');
        }
        return nf.slice();
      });
      return Buffer.concat(bufs, length);
    };

    NoFilter.prototype._transform = function(chunk, encoding, callback) {
      if (!this._readableState.objectMode && !Buffer.isBuffer(chunk)) {
        chunk = new Buffer(chunk, encoding);
      }
      this.push(chunk);
      return callback();
    };

    NoFilter.prototype.read = function(size) {
      var buf;
      buf = NoFilter.__super__.read.call(this, size);
      if (buf != null) {
        this.emit('read', buf);
      }
      return buf;
    };

    NoFilter.prototype.compare = function(other) {
      if (!(other instanceof NoFilter)) {
        throw new TypeError('Arguments must be NoFilters');
      }
      if (this._readableState.objectMode || other._readableState.objectMode) {
        throw new Error('Must not be in object mode to compare');
      }
      if (this === other) {
        return 0;
      } else {
        return this.slice().compare(other.slice());
      }
    };

    NoFilter.prototype.equals = function(other) {
      return this.compare(other) === 0;
    };

    NoFilter.prototype.slice = function(start, end) {
      var b;
      if (this._readableState.objectMode) {
        return this._readableState.buffer.slice(start, end);
      } else {
        switch (this._readableState.buffer.length) {
          case 0:
            return new Buffer(0);
          case 1:
            return this._readableState.buffer[0].slice(start, end);
          default:
            b = Buffer.concat(this._readableState.buffer);
            this._readableState.buffer = [b];
            return b.slice(start, end);
        }
      }
    };

    NoFilter.prototype.get = function(index) {
      return this.slice()[index];
    };

    NoFilter.prototype.toJSON = function() {
      var b;
      b = this.slice();
      if (Buffer.isBuffer(b)) {
        return b.toJSON();
      } else {
        return b;
      }
    };

    NoFilter.prototype.toString = function(encoding, start, end) {
      return this.slice().toString(encoding, start, end);
    };

    NoFilter.prototype.inspect = function(depth, options) {
      var hex;
      hex = this._readableState.buffer.map(function(b) {
        if (Buffer.isBuffer(b)) {
          if (options != null ? options.stylize : void 0) {
            return options.stylize(b.toString('hex'), 'string');
          } else {
            return b.toString('hex');
          }
        } else {
          return util.inspect(b, options);
        }
      }).join(', ');
      return this.constructor.name + " [" + hex + "]";
    };

    _read_gen = function(meth, len) {
      return function(val) {
        var b;
        b = this.read(len);
        if (!Buffer.isBuffer(b)) {
          return null;
        }
        return b[meth].call(b, 0, true);
      };
    };

    _write_gen = function(meth, len) {
      return function(val) {
        var b;
        b = new Buffer(len);
        b[meth].call(b, val, 0, true);
        return this.push(b);
      };
    };

    NoFilter.prototype.writeUInt8 = _write_gen('writeUInt8', 1);

    NoFilter.prototype.writeUInt16LE = _write_gen('writeUInt16LE', 2);

    NoFilter.prototype.writeUInt16BE = _write_gen('writeUInt16BE', 2);

    NoFilter.prototype.writeUInt32LE = _write_gen('writeUInt32LE', 4);

    NoFilter.prototype.writeUInt32BE = _write_gen('writeUInt32BE', 4);

    NoFilter.prototype.writeInt8 = _write_gen('writeInt8', 1);

    NoFilter.prototype.writeInt16LE = _write_gen('writeInt16LE', 2);

    NoFilter.prototype.writeInt16BE = _write_gen('writeInt16BE', 2);

    NoFilter.prototype.writeInt32LE = _write_gen('writeInt32LE', 4);

    NoFilter.prototype.writeInt32BE = _write_gen('writeInt32BE', 4);

    NoFilter.prototype.writeFloatLE = _write_gen('writeFloatLE', 4);

    NoFilter.prototype.writeFloatBE = _write_gen('writeFloatBE', 4);

    NoFilter.prototype.writeDoubleLE = _write_gen('writeDoubleLE', 8);

    NoFilter.prototype.writeDoubleBE = _write_gen('writeDoubleBE', 8);

    NoFilter.prototype.readUInt8 = _read_gen('readUInt8', 1);

    NoFilter.prototype.readUInt16LE = _read_gen('readUInt16LE', 2);

    NoFilter.prototype.readUInt16BE = _read_gen('readUInt16BE', 2);

    NoFilter.prototype.readUInt32LE = _read_gen('readUInt32LE', 4);

    NoFilter.prototype.readUInt32BE = _read_gen('readUInt32BE', 4);

    NoFilter.prototype.readInt8 = _read_gen('readInt8', 1);

    NoFilter.prototype.readInt16LE = _read_gen('readInt16LE', 2);

    NoFilter.prototype.readInt16BE = _read_gen('readInt16BE', 2);

    NoFilter.prototype.readInt32LE = _read_gen('readInt32LE', 4);

    NoFilter.prototype.readInt32BE = _read_gen('readInt32BE', 4);

    NoFilter.prototype.readFloatLE = _read_gen('readFloatLE', 4);

    NoFilter.prototype.readFloatBE = _read_gen('readFloatBE', 4);

    NoFilter.prototype.readDoubleLE = _read_gen('readDoubleLE', 8);

    NoFilter.prototype.readDoubleBE = _read_gen('readDoubleBE', 8);

    get = function(props) {
      var getter, name, results;
      results = [];
      for (name in props) {
        getter = props[name];
        results.push(NoFilter.prototype.__defineGetter__(name, getter));
      }
      return results;
    };

    get({
      length: function() {
        return this._readableState.length;
      }
    });

    return NoFilter;

  })(stream.Transform);

}).call(this);

//# sourceMappingURL=data:application/json;base64,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VixFQUEwQixDQUExQjs7dUJBQ2QsV0FBQSxHQUFjLFNBQUEsQ0FBVSxhQUFWLEVBQTBCLENBQTFCOzt1QkFDZCxXQUFBLEdBQWMsU0FBQSxDQUFVLGFBQVYsRUFBMEIsQ0FBMUI7O3VCQUdkLFdBQUEsR0FBYyxTQUFBLENBQVUsYUFBVixFQUEwQixDQUExQjs7dUJBQ2QsV0FBQSxHQUFjLFNBQUEsQ0FBVSxhQUFWLEVBQTBCLENBQTFCOzt1QkFDZCxZQUFBLEdBQWMsU0FBQSxDQUFVLGNBQVYsRUFBMEIsQ0FBMUI7O3VCQUNkLFlBQUEsR0FBYyxTQUFBLENBQVUsY0FBVixFQUEwQixDQUExQjs7SUFHZCxHQUFBLEdBQU0sU0FBQyxLQUFEO0FBQ0osVUFBQTtBQUFBO1dBQUEsYUFBQTs7cUJBQUEsUUFBUSxDQUFBLFNBQUUsQ0FBQSxnQkFBVixDQUEyQixJQUEzQixFQUFpQyxNQUFqQztBQUFBOztJQURJOztJQUlOLEdBQUEsQ0FBSTtNQUFBLE1BQUEsRUFBUSxTQUFBO2VBQUcsSUFBQyxDQUFBLGNBQWMsQ0FBQztNQUFuQixDQUFSO0tBQUo7Ozs7S0FyUnNDLE1BQU0sQ0FBQztBQW5JL0MiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJzdHJlYW0gPSByZXF1aXJlICdzdHJlYW0nXG51dGlsID0gcmVxdWlyZSAndXRpbCdcblxuIyBOb0ZpbHRlciBzdHJlYW0uICBDYW4gYmUgdXNlZCB0byBzaW5rIG9yIHNvdXJjZSBkYXRhIHRvIGFuZCBmcm9tIG90aGVyXG4jIG5vZGUgc3RyZWFtcy4gIEltcGxlbWVudGVkIGFzIHRoZSBcImlkZW50aXR5XCIgVHJhbnNmb3JtIHN0cmVhbSAoaGVuY2UgdGhlXG4jIG5hbWUpLCBidXQgYWxsb3dzIGZvciBpbnNwZWN0aW5nIGRhdGEgdGhhdCBpcyBpbi1mbGlnaHQuXG4jXG4jIEBleGFtcGxlIHNvdXJjZVxuIyAgIHZhciBuID0gbmV3IE5vRmlsdGVyKCdabTl2JywgJ2Jhc2U2NCcpO1xuIyAgIG4ucGlwZShwcm9jZXNzLnN0ZG91dCk7XG4jXG4jIEBleGFtcGxlIHNpbmtcbiMgICB2YXIgbiA9IG5ldyBOb2ZpbHRlcigpO1xuIyAgICMgTk9URTogJ2ZpbmlzaCcgZmlyZXMgd2hlbiB0aGUgaW5wdXQgaXMgZG9uZSB3cml0aW5nXG4jICAgbi5vbignZmluaXNoJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKG4udG9TdHJpbmcoJ2Jhc2U2NCcpKTsgfSk7XG4jICAgcHJvY2Vzcy5zdGRpbi5waXBlKG4pO1xuI1xuIyBAZXZlbnQgcmVhZChCdWZmZXJ8U3RyaW5nfE9iamVjdCkgZmlyZWQgd2hlbmV2ZXIgYW55dGhpbmcgaXMgcmVhZCBmcm9tIHRoZVxuIyAgIHN0cmVhbS5cbiNcbiMgQG1ldGhvZCAjd3JpdGVVSW50OCh2YWx1ZSlcbiMgICBXcml0ZSBhbiA4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzIDEgYnl0ZS5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVVSW50MTZMRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGxpdHRsZS1lbmRpYW4gMTYtYml0IHVuc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICAyIGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZVVJbnQxNkJFKHZhbHVlKVxuIyAgIFdyaXRlIGEgYmlnLWVuZGlhbiAxNi1iaXQgdW5zaWduZWQgaW50ZWdlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDIgYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlVUludDMyTEUodmFsdWUpXG4jICAgV3JpdGUgYSBsaXR0bGUtZW5kaWFuIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgNCBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVVSW50MzJCRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGJpZy1lbmRpYW4gMzItYml0IHVuc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICA0IGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZUludDgodmFsdWUpXG4jICAgV3JpdGUgYW4gOC1iaXQgc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICAxIGJ5dGUuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlSW50MTZMRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGxpdHRsZS1lbmRpYW4gMTYtYml0IHNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgMiBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVJbnQxNkJFKHZhbHVlKVxuIyAgIFdyaXRlIGEgYmlnLWVuZGlhbiAxNi1iaXQgc2lnbmVkIGludGVnZXIgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICAyIGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZUludDMyTEUodmFsdWUpXG4jICAgV3JpdGUgYSBsaXR0bGUtZW5kaWFuIDMyLWJpdCBzaWduZWQgaW50ZWdlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlSW50MzJCRSh2YWx1ZSlcbiMgICBXcml0ZSBhIGJpZy1lbmRpYW4gMzItYml0IHNpZ25lZCBpbnRlZ2VyIHRvIHRoZSBzdHJlYW0uICBBZGRzXG4jICAgNCBieXRlcy5cbiMgICBAcGFyYW0gdmFsdWUgW051bWJlcl1cbiMgQG1ldGhvZCAjd3JpdGVGbG9hdExFKHZhbHVlKVxuIyAgIFdyaXRlIGEgbGl0dGxlLWVuZGlhbiAzMi1iaXQgZmxvYXQgdG8gdGhlIHN0cmVhbS4gIEFkZHNcbiMgICA0IGJ5dGVzLlxuIyAgIEBwYXJhbSB2YWx1ZSBbTnVtYmVyXVxuIyBAbWV0aG9kICN3cml0ZUZsb2F0QkUodmFsdWUpXG4jICAgV3JpdGUgYSBiaWctZW5kaWFuIDMyLWJpdCBmbG9hdCB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlRG91YmxlTEUodmFsdWUpXG4jICAgV3JpdGUgYSBsaXR0bGUtZW5kaWFuIDY0LWJpdCBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDggYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3dyaXRlRG91YmxlQkUodmFsdWUpXG4jICAgV3JpdGUgYSBiaWctZW5kaWFuIDY0LWJpdCBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB0byB0aGUgc3RyZWFtLiAgQWRkc1xuIyAgIDggYnl0ZXMuXG4jICAgQHBhcmFtIHZhbHVlIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRVSW50OCgpXG4jICAgUmVhZCBhbiB1bnNpZ25lZCA4LWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgMSBieXRlLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZFVJbnQxNkxFKClcbiMgICBSZWFkIGEgbGl0dGxlLWVuZGlhbiB1bnNpZ25lZCAxNi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDIgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkVUludDE2QkUoKVxuIyAgIFJlYWQgYSBiaWctZW5kaWFuIHVuc2lnbmVkIDE2LWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgMiBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRVSW50MzJMRSgpXG4jICAgUmVhZCBhIGxpdHRsZS1lbmRpYW4gdW5zaWduZWQgMzItYml0IGludGVnZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICA0IGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZFVJbnQzMkJFKClcbiMgICBSZWFkIGEgLWJpZ2VuZGlhbiB1bnNpZ25lZCAzMi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkSW50OCgpXG4jICAgUmVhZCBhIHNpZ25lZCA4LWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgMSBieXRlLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZEludDE2TEUoKVxuIyAgIFJlYWQgYSBsaXR0bGUtZW5kaWFuIHNpZ25lZCAxNi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDIgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkSW50MTZCRSgpXG4jICAgUmVhZCBhIGJpZy1lbmRpYW4gc2lnbmVkIDE2LWJpdCBpbnRlZ2VyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgMiBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRJbnQzMkxFKClcbiMgICBSZWFkIGEgbGl0dGxlLWVuZGlhbiBzaWduZWQgMzItYml0IGludGVnZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICA0IGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZEludDMyQkUoKVxuIyAgIFJlYWQgYSBiaWctZW5kaWFuIHNpZ25lZCAzMi1iaXQgaW50ZWdlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDQgYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkRmxvYXRMRSgpXG4jICAgUmVhZCBhIGxpdHRsZS1lbmRpYW4gZmxvYXRpbmcgcG9pbnQgbnVtYmVyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgNCBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG4jIEBtZXRob2QgI3JlYWRGbG9hdEJFKClcbiMgICBSZWFkIGEgYmlnLWVuZGlhbiBmbG9hdGluZyBwb2ludCBudW1iZXIgZnJvbSB0aGUgc3RyZWFtLiAgQ29uc3VtZXNcbiMgICA0IGJ5dGVzLlxuIyAgIEByZXR1cm4gW051bWJlcl1cbiMgQG1ldGhvZCAjcmVhZERvdWJsZUxFKClcbiMgICBSZWFkIGEgbGl0dGxlLWVuZGlhbiBkb3VibGUtcHJlY2lzaW9uIG51bWJlciBmcm9tIHRoZSBzdHJlYW0uICBDb25zdW1lc1xuIyAgIDggYnl0ZXMuXG4jICAgQHJldHVybiBbTnVtYmVyXVxuIyBAbWV0aG9kICNyZWFkRG91YmxlQkUoKVxuIyAgIFJlYWQgYSBiaWctZW5kaWFuIGRvdWJsZS1wcmVjaXNpb24gbnVtYmVyIGZyb20gdGhlIHN0cmVhbS4gIENvbnN1bWVzXG4jICAgOCBieXRlcy5cbiMgICBAcmV0dXJuIFtOdW1iZXJdXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIE5vRmlsdGVyIGV4dGVuZHMgc3RyZWFtLlRyYW5zZm9ybVxuICAjIENyZWF0ZSBhIE5vRmlsdGVyLiAgQWxsb3cgcGFzc2luZyBpbiBzb3VyY2UgZGF0YSAoaW5wdXQsIGlucHV0RW5jb2RpbmcpXG4gICMgYXQgY3JlYXRpb24gdGltZS4gIFNvdXJjZSBkYXRhIGNhbiBhbHNvIGJlIHBhc3NlZCBpbiB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICNcbiAgIyBAcGFyYW0gaW5wdXQgW1N0cmluZywgQnVmZmVyXSBPcHRpb25hbCBzb3VyY2UgZGF0YVxuICAjIEBwYXJhbSBpbnB1dEVuY29kaW5nIFtTdHJpbmddIE9wdGlvbmFsIGVuY29kaW5nIG5hbWUgZm9yIGlucHV0LCBpZ25vcmVkXG4gICMgICBpZiBpbnB1dCBpcyBub3QgYSBTdHJpbmdcbiAgIyBAcGFyYW0gb3B0aW9ucyBbT2JqZWN0XSBPdGhlciBvcHRpb25zXG4gICMgQG9wdGlvbiBvcHRpb25zIFtTdHJpbmcsIEJ1ZmZlcl0gSW5wdXQgc291cmNlIGRhdGFcbiAgIyBAb3B0aW9uIG9wdGlvbnMgW1N0cmluZ10gaW5wdXRFbmNvZGluZyBFbmNvZGluZyBuYW1lIGZvciBpbnB1dCwgaWdub3JlZFxuICAjICAgaWYgaW5wdXQgaXMgbm90IGEgU3RyaW5nXG4gICMgQG9wdGlvbiBvcHRpb25zIFtOdW1iZXJdIGhpZ2hXYXRlck1hcmsgVGhlIG1heGltdW0gbnVtYmVyIG9mIGJ5dGVzIHRvIHN0b3JlXG4gICMgICBpbiB0aGUgaW50ZXJuYWwgYnVmZmVyIGJlZm9yZSBjZWFzaW5nIHRvIHJlYWQgZnJvbSB0aGUgdW5kZXJseWluZ1xuICAjICAgcmVzb3VyY2UuIERlZmF1bHQ9MTZrYiwgb3IgMTYgZm9yIG9iamVjdE1vZGUgc3RyZWFtcy5cbiAgIyBAb3B0aW9uIG9wdGlvbnMgW1N0cmluZ10gZW5jb2RpbmcgIElmIHNwZWNpZmllZCwgdGhlbiBidWZmZXJzIHdpbGwgYmVcbiAgIyAgIGRlY29kZWQgdG8gc3RyaW5ncyB1c2luZyB0aGUgc3BlY2lmaWVkIGVuY29kaW5nLiBEZWZhdWx0PW51bGxcbiAgIyBAb3B0aW9uIG9wdGlvbnMgW0Jvb2xlYW5dIG9iamVjdE1vZGUgV2hldGhlciB0aGlzIHN0cmVhbSBzaG91bGQgYmVoYXZlIGFzIGFcbiAgIyAgIHN0cmVhbSBvZiBvYmplY3RzLiBNZWFuaW5nIHRoYXQgc3RyZWFtLnJlYWQobikgcmV0dXJucyBhIHNpbmdsZSB2YWx1ZVxuICAjICAgaW5zdGVhZCBvZiBhIEJ1ZmZlciBvZiBzaXplIG4uIERlZmF1bHQ9ZmFsc2VcbiAgIyBAb3B0aW9uIG9wdGlvbnMgW0Jvb2xlYW5dIGRlY29kZVN0cmluZ3MgV2hldGhlciBvciBub3QgdG8gZGVjb2RlIHN0cmluZ3NcbiAgIyAgIGludG8gQnVmZmVycyBiZWZvcmUgcGFzc2luZyB0aGVtIHRvIF93cml0ZSgpLiBEZWZhdWx0PXRydWVcbiAgY29uc3RydWN0b3I6IChpbnB1dCwgaW5wdXRFbmNvZGluZywgb3B0aW9ucyA9IHt9KSAtPlxuICAgIGlucCA9IHVuZGVmaW5lZFxuICAgIGlucEUgPSB1bmRlZmluZWRcbiAgICBzd2l0Y2ggdHlwZW9mKGlucHV0KVxuICAgICAgd2hlbiAnb2JqZWN0J1xuICAgICAgICBpZiBCdWZmZXIuaXNCdWZmZXIoaW5wdXQpXG4gICAgICAgICAgaW5wID0gaW5wdXRcbiAgICAgICAgICBpZiBpbnB1dEVuY29kaW5nPyBhbmQgKHR5cGVvZihpbnB1dEVuY29kaW5nKSA9PSAnb2JqZWN0JylcbiAgICAgICAgICAgIG9wdGlvbnMgPSBpbnB1dEVuY29kaW5nXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBvcHRpb25zID0gaW5wdXRcbiAgICAgIHdoZW4gJ3N0cmluZydcbiAgICAgICAgaW5wID0gaW5wdXRcbiAgICAgICAgaWYgaW5wdXRFbmNvZGluZz8gYW5kICh0eXBlb2YoaW5wdXRFbmNvZGluZykgPT0gJ29iamVjdCcpXG4gICAgICAgICAgb3B0aW9ucyA9IGlucHV0RW5jb2RpbmdcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGlucEUgPSBpbnB1dEVuY29kaW5nXG5cbiAgICBpZiAhb3B0aW9ucz9cbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIGlucCA/PSBvcHRpb25zLmlucHV0XG4gICAgaW5wRSA/PSBvcHRpb25zLmlucHV0RW5jb2RpbmdcbiAgICBkZWxldGUgb3B0aW9ucy5pbnB1dFxuICAgIGRlbGV0ZSBvcHRpb25zLmlucHV0RW5jb2RpbmdcbiAgICBzdXBlcihvcHRpb25zKVxuXG4gICAgaWYgaW5wP1xuICAgICAgQGVuZCBpbnAsIGlucEVcblxuICAjIElzIHRoZSBnaXZlbiBvYmplY3QgYSB7Tm9GaWx0ZXJ9P1xuICAjIEBwYXJhbSBvYmogW09iamVjdF0gVGhlIG9iamVjdCB0byB0ZXN0LlxuICAjIEByZXR1cm4gW0Jvb2xlYW5dXG4gIEBpc05vRmlsdGVyOiAob2JqKSAtPlxuICAgIG9iaiBpbnN0YW5jZW9mIEBcblxuICAjIFRoZSBzYW1lIGFzIG5mMS5jb21wYXJlKG5mMikuIFVzZWZ1bCBmb3Igc29ydGluZyBhbiBBcnJheSBvZiBOb0ZpbHRlcnM6XG4gICMgQGV4YW1wbGUgY29tcGFyZVxuICAjICB2YXIgYXJyID0gW25ldyBOb0ZpbHRlcignMTIzNCcpLCBuZXcgTm9GaWx0ZXIoJzAxMjMnKV07XG4gICMgIGFyci5zb3J0KEJ1ZmZlci5jb21wYXJlKTtcbiAgIyBAcGFyYW0gbmYxIFtOb0ZpbHRlcl0gVGhlIGZpcnN0IG9iamVjdCB0byBjb21wYXJlXG4gICMgQHBhcmFtIG5mMiBbTm9GaWx0ZXJdIFRoZSBzZWNvbmQgb2JqZWN0IHRvIGNvbXBhcmVcbiAgIyBAcmV0dXJuIFtOdW1iZXJdIC0xLCAwLCAxIGZvciBsZXNzLCBlcXVhbCwgZ3JlYXRlclxuICBAY29tcGFyZTogKG5mMSwgbmYyKSAtPlxuICAgIGlmICEobmYxIGluc3RhbmNlb2YgQClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IgJ0FyZ3VtZW50cyBtdXN0IGJlIE5vRmlsdGVycydcbiAgICBpZiBuZjEgPT0gbmYyXG4gICAgICAwXG4gICAgZWxzZVxuICAgICAgbmYxLmNvbXBhcmUgbmYyXG5cbiAgIyBSZXR1cm5zIGEgYnVmZmVyIHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgY29uY2F0ZW5hdGluZyBhbGwgdGhlIE5vRmlsdGVycyBpblxuICAjIHRoZSBsaXN0IHRvZ2V0aGVyLiBJZiB0aGUgbGlzdCBoYXMgbm8gaXRlbXMsIG9yIGlmIHRoZSB0b3RhbExlbmd0aCBpcyAwLFxuICAjIHRoZW4gaXQgcmV0dXJucyBhIHplcm8tbGVuZ3RoIGJ1ZmZlci5cbiAgI1xuICAjIElmIGxlbmd0aCBpcyBub3QgcHJvdmlkZWQsIGl0IGlzIHJlYWQgZnJvbSB0aGUgYnVmZmVycyBpbiB0aGUgbGlzdC4gSG93ZXZlcixcbiAgIyB0aGlzIGFkZHMgYW4gYWRkaXRpb25hbCBsb29wIHRvIHRoZSBmdW5jdGlvbiwgc28gaXQgaXMgZmFzdGVyIHRvIHByb3ZpZGUgdGhlXG4gICMgbGVuZ3RoIGV4cGxpY2l0bHkuXG4gICNcbiAgIyBAcGFyYW0gbGlzdCBbQXJyYXkgb2YgTm9GaWx0ZXJdIElucHV0cy4gIE11c3Qgbm90IGJlIGluIG9iamVjdCBtb2RlLlxuICAjIEBwYXJhbSBsZW5ndGggW051bWJlcl0gT3B0aW9uYWwuXG4gICMgQHJldHVybiBbQnVmZmVyXSBUaGUgY29uY2F0ZW5hdGVkIHZhbHVlc1xuICBAY29uY2F0OiAobGlzdCwgbGVuZ3RoKSAtPlxuICAgIGlmICFBcnJheS5pc0FycmF5IGxpc3RcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IgJ2xpc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBOb0ZpbHRlcnMnXG4gICAgaWYgKGxpc3QubGVuZ3RoID09IDApIG9yIChsZW5ndGggPT0gMClcbiAgICAgIHJldHVybiBuZXcgQnVmZmVyIDBcbiAgICBpZiAhbGVuZ3RoP1xuICAgICAgbGVuZ3RoID0gbGlzdC5yZWR1Y2UgKHRvdCwgbmYpIC0+XG4gICAgICAgIGlmICEobmYgaW5zdGFuY2VvZiBOb0ZpbHRlcilcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yICdsaXN0IGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgTm9GaWx0ZXJzJ1xuICAgICAgICB0b3QgKyBuZi5sZW5ndGhcbiAgICAgICwgMFxuICAgIGJ1ZnMgPSBsaXN0Lm1hcCAobmYpIC0+XG4gICAgICBpZiAhKG5mIGluc3RhbmNlb2YgTm9GaWx0ZXIpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IgJ2xpc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBOb0ZpbHRlcnMnXG4gICAgICBpZiBuZi5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlXG4gICAgICAgICMgVE9ETzogaWYgYW55IG9mIHRoZW0gYXJlIGluIG9iamVjdCBtb2RlLCB0aGVuIHJldHVybiBhbiBhcnJheT9cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yICdOb0ZpbHRlciBtYXkgbm90IGJlIGluIG9iamVjdCBtb2RlIGZvciBjb25jYXQnXG4gICAgICBuZi5zbGljZSgpXG4gICAgQnVmZmVyLmNvbmNhdCBidWZzLCBsZW5ndGhcblxuICAjIEBub2RvY1xuICBfdHJhbnNmb3JtOiAoY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykgLT5cbiAgICBpZiAhQF9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGUgYW5kICFCdWZmZXIuaXNCdWZmZXIoY2h1bmspXG4gICAgICBjaHVuayA9IG5ldyBCdWZmZXIgY2h1bmssIGVuY29kaW5nXG4gICAgQHB1c2ggY2h1bmtcbiAgICBjYWxsYmFjaygpXG5cbiAgIyBUaGUgcmVhZCgpIG1ldGhvZCBwdWxscyBzb21lIGRhdGEgb3V0IG9mIHRoZSBpbnRlcm5hbCBidWZmZXIgYW5kIHJldHVybnMgaXQuXG4gICMgSWYgdGhlcmUgaXMgbm8gZGF0YSBhdmFpbGFibGUsIHRoZW4gaXQgd2lsbCByZXR1cm4gbnVsbC5cbiAgI1xuICAjIElmIHlvdSBwYXNzIGluIGEgc2l6ZSBhcmd1bWVudCwgdGhlbiBpdCB3aWxsIHJldHVybiB0aGF0IG1hbnkgYnl0ZXMuIElmIHNpemVcbiAgIyBieXRlcyBhcmUgbm90IGF2YWlsYWJsZSwgdGhlbiBpdCB3aWxsIHJldHVybiBudWxsLCB1bmxlc3Mgd2UndmUgZW5kZWQsIGluXG4gICMgd2hpY2ggY2FzZSBpdCB3aWxsIHJldHVybiB0aGUgZGF0YSByZW1haW5pbmcgaW4gdGhlIGJ1ZmZlci5cbiAgI1xuICAjIElmIHlvdSBkbyBub3Qgc3BlY2lmeSBhIHNpemUgYXJndW1lbnQsIHRoZW4gaXQgd2lsbCByZXR1cm4gYWxsIHRoZSBkYXRhIGluXG4gICMgdGhlIGludGVybmFsIGJ1ZmZlci5cbiAgI1xuICAjIFRoaXMgdmVyc2lvbiBhbHNvIGZpcmVzIHRoZSAncmVhZCcgZXZlbnQgdXBvbiBhIHN1Y2Nlc3NmdWwgcmVhZC5cbiAgI1xuICAjIEBwYXJhbSBzaXplIFtOdW1iZXJdIE9wdGlvbmFsLiBOdW1iZXIgb2YgYnl0ZXMgdG8gcmVhZC5cbiAgIyBAcmV0dXJuIFtTdHJpbmcsIEJ1ZmZlciwgbnVsbF1cbiAgcmVhZDogKHNpemUpIC0+XG4gICAgYnVmID0gc3VwZXIgc2l6ZVxuICAgIGlmIGJ1Zj9cbiAgICAgIEBlbWl0ICdyZWFkJywgYnVmXG4gICAgYnVmXG5cbiAgIyBSZXR1cm5zIGEgbnVtYmVyIGluZGljYXRpbmcgd2hldGhlciB0aGlzIGNvbWVzIGJlZm9yZSBvciBhZnRlciBvciBpcyB0aGVcbiAgIyBzYW1lIGFzIHRoZSBvdGhlciBOb0ZpbHRlciBpbiBzb3J0IG9yZGVyLlxuICAjXG4gICMgQHBhcmFtIG90aGVyIFtOb0ZpbHRlcl0gVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlXG4gICMgQHJldHVybiBbTnVtYmVyXSAtMSwgMCwgMSBmb3IgbGVzcywgZXF1YWwsIGdyZWF0ZXJcbiAgY29tcGFyZTogKG90aGVyKSAtPlxuICAgIGlmICEob3RoZXIgaW5zdGFuY2VvZiBOb0ZpbHRlcilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IgJ0FyZ3VtZW50cyBtdXN0IGJlIE5vRmlsdGVycydcbiAgICBpZiBAX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZSBvciBvdGhlci5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IgJ011c3Qgbm90IGJlIGluIG9iamVjdCBtb2RlIHRvIGNvbXBhcmUnXG4gICAgaWYgQCA9PSBvdGhlclxuICAgICAgMFxuICAgIGVsc2VcbiAgICAgIEBzbGljZSgpLmNvbXBhcmUgb3RoZXIuc2xpY2UoKVxuXG4gICMgRG8gdGhlc2UgTm9GaWx0ZXIncyBjb250YWluIHRoZSBzYW1lIGJ5dGVzPyAgRG9lc24ndCB3b3JrIGlmIGVpdGhlciBpc1xuICAjIGluIG9iamVjdCBtb2RlLlxuICAjIEBwYXJhbSBvdGhlciBbTm9GaWx0ZXJdXG4gICMgQHJldHVybiBbQm9vbGVhbl0gRXF1YWw/XG4gIGVxdWFsczogKG90aGVyKSAtPlxuICAgIEBjb21wYXJlKG90aGVyKSA9PSAwXG5cbiAgIyBSZWFkIGJ5dGVzIG9yIG9iamVjdHMgd2l0aG91dCBjb25zdW1pbmcgdGhlbS4gIFVzZWZ1bCBmb3IgZGlhZ25vc3RpY3MuXG4gICMgTm90ZTogYXMgYSBzaWRlLWVmZmVjdCwgY29uY2F0ZW5hdGVzIG11bHRpcGxlIHdyaXRlcyB0b2dldGhlciBpbnRvIHdoYXRcbiAgIyBsb29rcyBsaWtlIGEgc2luZ2xlIHdyaXRlLCBzbyB0aGF0IHRoaXMgY29uY2F0IGRvZXNuJ3QgaGF2ZSB0byBoYXBwZW5cbiAgIyBtdWx0aXBsZSB0aW1lcyB3aGVuIHlvdSdyZSBmdXR6aW5nIHdpdGggdGhlIHNhbWUgTm9GaWx0ZXIuXG4gICNcbiAgIyBAcGFyYW0gc3RhcnQgW051bWJlcl0gT3B0aW9uYWwsIERlZmF1bHQ6IDBcbiAgIyBAcGFyYW0gZW5kIFtOdW1iZXJdLCBPcHRpb25hbCwgRGVmYXVsdDogTm9GaWx0ZXIubGVuZ3RoXG4gICMgQHJldHVybiBbQnVmZmVyLEFycmF5XSBpZiBpbiBvYmplY3QgbW9kZSwgYW4gYXJyYXkgb2Ygb2JqZWN0cy4gIE90aGVyd2l6ZSxcbiAgIyAgIGNvbmNhdGVuYXRlZCBhcnJheSBvZiBjb250ZW50cy5cbiAgc2xpY2U6IChzdGFydCwgZW5kKSAtPlxuICAgIGlmIEBfcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlXG4gICAgICBAX3JlYWRhYmxlU3RhdGUuYnVmZmVyLnNsaWNlIHN0YXJ0LCBlbmRcbiAgICBlbHNlXG4gICAgICBzd2l0Y2ggQF9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5sZW5ndGhcbiAgICAgICAgd2hlbiAwIHRoZW4gbmV3IEJ1ZmZlcigwKVxuICAgICAgICB3aGVuIDEgdGhlbiBAX3JlYWRhYmxlU3RhdGUuYnVmZmVyWzBdLnNsaWNlKHN0YXJ0LCBlbmQpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBiID0gQnVmZmVyLmNvbmNhdCBAX3JlYWRhYmxlU3RhdGUuYnVmZmVyXG4gICAgICAgICAgQF9yZWFkYWJsZVN0YXRlLmJ1ZmZlciA9IFtiXVxuICAgICAgICAgIGIuc2xpY2Ugc3RhcnQsIGVuZFxuXG4gICMgR2V0IGEgYnl0ZSBieSBvZmZzZXQuICBJIGRpZG4ndCB3YW50IHRvIGdldCBpbnRvIG1ldGFwcm9ncmFtbWluZ1xuICAjIHRvIGdpdmUgeW91IHRoZSBgTm9GaWx0ZXJbMF1gIHN5bnRheC5cbiAgIyBAcGFyYW0gaW5kZXggW051bWJlcl0gVGhlIGJ5dGUgdG8gcmV0cmlldmVcbiAgIyBAcmV0dXJuIFtOdW1iZXJdIDAtMjU1XG4gIGdldDogKGluZGV4KSAtPlxuICAgIEBzbGljZSgpW2luZGV4XVxuXG4gICMgUmV0dXJuIGFuIG9iamVjdCBjb21wYXRpYmxlIHdpdGggQnVmZmVyJ3MgdG9KU09OIGltcGxlbWVudGF0aW9uLCBzb1xuICAjIHRoYXQgcm91bmQtdHJpcHBpbmcgd2lsbCBwcm9kdWNlIGEgQnVmZmVyLlxuICAjIEByZXR1cm4gW09iamVjdF1cbiAgI1xuICAjIEBleGFtcGxlIG91dHB1dCBmb3IgJ2ZvbydcbiAgIyAgIHsgdHlwZTogJ0J1ZmZlcicsIGRhdGE6IFsgMTAyLCAxMTEsIDExMSBdIH1cbiAgdG9KU09OOiAtPlxuICAgIGIgPSBAc2xpY2UoKVxuICAgIGlmIEJ1ZmZlci5pc0J1ZmZlcihiKVxuICAgICAgYi50b0pTT04oKVxuICAgIGVsc2VcbiAgICAgIGJcblxuICAjIERlY29kZXMgYW5kIHJldHVybnMgYSBzdHJpbmcgZnJvbSBidWZmZXIgZGF0YSBlbmNvZGVkIHVzaW5nIHRoZSBzcGVjaWZpZWRcbiAgIyBjaGFyYWN0ZXIgc2V0IGVuY29kaW5nLiBJZiBlbmNvZGluZyBpcyB1bmRlZmluZWQgb3IgbnVsbCwgdGhlbiBlbmNvZGluZ1xuICAjIGRlZmF1bHRzIHRvICd1dGY4Jy4gVGhlIHN0YXJ0IGFuZCBlbmQgcGFyYW1ldGVycyBkZWZhdWx0IHRvIDAgYW5kXG4gICMgTm9GaWx0ZXIubGVuZ3RoIHdoZW4gdW5kZWZpbmVkLlxuICAjXG4gICMgQHBhcmFtIGVuY29kaW5nIFtTdHJpbmddIE9wdGlvbmFsLCBEZWZhdWx0OiAndXRmOCdcbiAgIyBAcGFyYW0gc3RhcnQgW051bWJlcl0gT3B0aW9uYWwsIERlZmF1bHQ6IDBcbiAgIyBAcGFyYW0gZW5kIFtOdW1iZXJdIE9wdGlvbmFsLCBEZWZhdWx0OiBOb0ZpbHRlci5sZW5ndGhcbiAgIyBAcmV0dXJuIFtTdHJpbmddXG4gIHRvU3RyaW5nOiAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIC0+XG4gICAgQHNsaWNlKCkudG9TdHJpbmcoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpXG5cbiAgIyBAbm9kb2NcbiAgaW5zcGVjdDogKGRlcHRoLCBvcHRpb25zKSAtPlxuICAgIGhleCA9IEBfcmVhZGFibGVTdGF0ZS5idWZmZXIubWFwIChiKSAtPlxuICAgICAgaWYgQnVmZmVyLmlzQnVmZmVyKGIpXG4gICAgICAgIGlmIG9wdGlvbnM/LnN0eWxpemVcbiAgICAgICAgICBvcHRpb25zLnN0eWxpemUgYi50b1N0cmluZygnaGV4JyksICdzdHJpbmcnXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBiLnRvU3RyaW5nKCdoZXgnKVxuICAgICAgZWxzZVxuICAgICAgICB1dGlsLmluc3BlY3QoYiwgb3B0aW9ucylcbiAgICAuam9pbiAnLCAnXG4gICAgXCIje0Bjb25zdHJ1Y3Rvci5uYW1lfSBbI3toZXh9XVwiXG5cbiAgIyBAbm9kb2NcbiAgX3JlYWRfZ2VuID0gKG1ldGgsIGxlbikgLT5cbiAgICAodmFsKSAtPlxuICAgICAgYiA9IEByZWFkIGxlblxuICAgICAgaWYgIUJ1ZmZlci5pc0J1ZmZlcihiKVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgYlttZXRoXS5jYWxsIGIsIDAsIHRydWVcblxuICAjIEBub2RvY1xuICBfd3JpdGVfZ2VuID0gKG1ldGgsIGxlbikgLT5cbiAgICAodmFsKSAtPlxuICAgICAgYiA9IG5ldyBCdWZmZXIgbGVuXG4gICAgICBiW21ldGhdLmNhbGwgYiwgdmFsLCAwLCB0cnVlXG4gICAgICBAcHVzaCBiXG5cbiAgIyB1bnNpZ25lZFxuICB3cml0ZVVJbnQ4OiAgICBfd3JpdGVfZ2VuICd3cml0ZVVJbnQ4JywgICAgMVxuICB3cml0ZVVJbnQxNkxFOiBfd3JpdGVfZ2VuICd3cml0ZVVJbnQxNkxFJywgMlxuICB3cml0ZVVJbnQxNkJFOiBfd3JpdGVfZ2VuICd3cml0ZVVJbnQxNkJFJywgMlxuICB3cml0ZVVJbnQzMkxFOiBfd3JpdGVfZ2VuICd3cml0ZVVJbnQzMkxFJywgNFxuICB3cml0ZVVJbnQzMkJFOiBfd3JpdGVfZ2VuICd3cml0ZVVJbnQzMkJFJywgNFxuXG4gICMgc2lnbmVkXG4gIHdyaXRlSW50ODogICAgIF93cml0ZV9nZW4gJ3dyaXRlSW50OCcsICAgICAxXG4gIHdyaXRlSW50MTZMRTogIF93cml0ZV9nZW4gJ3dyaXRlSW50MTZMRScsICAyXG4gIHdyaXRlSW50MTZCRTogIF93cml0ZV9nZW4gJ3dyaXRlSW50MTZCRScsICAyXG4gIHdyaXRlSW50MzJMRTogIF93cml0ZV9nZW4gJ3dyaXRlSW50MzJMRScsICA0XG4gIHdyaXRlSW50MzJCRTogIF93cml0ZV9nZW4gJ3dyaXRlSW50MzJCRScsICA0XG5cbiAgIyBmbG9hdFxuICB3cml0ZUZsb2F0TEU6ICBfd3JpdGVfZ2VuICd3cml0ZUZsb2F0TEUnLCAgNFxuICB3cml0ZUZsb2F0QkU6ICBfd3JpdGVfZ2VuICd3cml0ZUZsb2F0QkUnLCAgNFxuICB3cml0ZURvdWJsZUxFOiBfd3JpdGVfZ2VuICd3cml0ZURvdWJsZUxFJywgOFxuICB3cml0ZURvdWJsZUJFOiBfd3JpdGVfZ2VuICd3cml0ZURvdWJsZUJFJywgOFxuXG4gICMgdW5zaWduZWRcbiAgcmVhZFVJbnQ4OiAgICBfcmVhZF9nZW4gJ3JlYWRVSW50OCcsICAgIDFcbiAgcmVhZFVJbnQxNkxFOiBfcmVhZF9nZW4gJ3JlYWRVSW50MTZMRScsIDJcbiAgcmVhZFVJbnQxNkJFOiBfcmVhZF9nZW4gJ3JlYWRVSW50MTZCRScsIDJcbiAgcmVhZFVJbnQzMkxFOiBfcmVhZF9nZW4gJ3JlYWRVSW50MzJMRScsIDRcbiAgcmVhZFVJbnQzMkJFOiBfcmVhZF9nZW4gJ3JlYWRVSW50MzJCRScsIDRcblxuICAjIHNpZ25lZFxuICByZWFkSW50ODogICAgIF9yZWFkX2dlbiAncmVhZEludDgnLCAgICAgMVxuICByZWFkSW50MTZMRTogIF9yZWFkX2dlbiAncmVhZEludDE2TEUnLCAgMlxuICByZWFkSW50MTZCRTogIF9yZWFkX2dlbiAncmVhZEludDE2QkUnLCAgMlxuICByZWFkSW50MzJMRTogIF9yZWFkX2dlbiAncmVhZEludDMyTEUnLCAgNFxuICByZWFkSW50MzJCRTogIF9yZWFkX2dlbiAncmVhZEludDMyQkUnLCAgNFxuXG4gICMgZmxvYXRcbiAgcmVhZEZsb2F0TEU6ICBfcmVhZF9nZW4gJ3JlYWRGbG9hdExFJywgIDRcbiAgcmVhZEZsb2F0QkU6ICBfcmVhZF9nZW4gJ3JlYWRGbG9hdEJFJywgIDRcbiAgcmVhZERvdWJsZUxFOiBfcmVhZF9nZW4gJ3JlYWREb3VibGVMRScsIDhcbiAgcmVhZERvdWJsZUJFOiBfcmVhZF9nZW4gJ3JlYWREb3VibGVCRScsIDhcblxuICAjIEBub2RvY1xuICBnZXQgPSAocHJvcHMpIC0+XG4gICAgTm9GaWx0ZXI6Ol9fZGVmaW5lR2V0dGVyX18obmFtZSwgZ2V0dGVyKSBmb3IgbmFtZSwgZ2V0dGVyIG9mIHByb3BzXG5cbiAgIyBAcHJvcGVydHkgW051bWJlcl0gVGhlIG51bWJlciBvZiBieXRlcyBjdXJyZW50bHkgYXZhaWxhYmxlIHRvIHJlYWRcbiAgZ2V0IGxlbmd0aDogLT4gQF9yZWFkYWJsZVN0YXRlLmxlbmd0aFxuIl19
